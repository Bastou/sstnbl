/*! p5.js v1.0.0 April 02, 2020 */

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).p5=t()}}(function(){return function o(a,s,l){function u(e,t){if(!s[e]){if(!a[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(h)return h(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[e]={exports:{}};a[e][0].call(n.exports,function(t){return u(a[e][1][t]||t)},n,n.exports,o,a,s,l)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,r){e.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}},{}],2:[function(t,e,r){e.exports=function(t){if(Array.isArray(t))return t}},{}],3:[function(t,e,r){var i=t("./arrayLikeToArray");e.exports=function(t){if(Array.isArray(t))return i(t)}},{"./arrayLikeToArray":1}],4:[function(t,e,r){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},{}],5:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],6:[function(t,e,r){function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}},{}],7:[function(t,e,r){e.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},{}],8:[function(t,e,r){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}e.exports=i},{}],9:[function(t,e,r){var i=t("./setPrototypeOf");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},{"./setPrototypeOf":16}],10:[function(t,e,r){e.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},{}],11:[function(t,e,r){e.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return r}}},{}],12:[function(t,e,r){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],13:[function(t,e,r){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],14:[function(t,e,r){var n=t("./defineProperty");e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}},{"./defineProperty":7}],15:[function(t,e,r){var i=t("../helpers/typeof"),n=t("./assertThisInitialized");e.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?n(t):e}},{"../helpers/typeof":19,"./assertThisInitialized":4}],16:[function(t,r,e){function i(t,e){return r.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}r.exports=i},{}],17:[function(t,e,r){var i=t("./arrayWithHoles"),n=t("./iterableToArrayLimit"),o=t("./unsupportedIterableToArray"),a=t("./nonIterableRest");e.exports=function(t,e){return i(t)||n(t,e)||o(t,e)||a()}},{"./arrayWithHoles":2,"./iterableToArrayLimit":11,"./nonIterableRest":12,"./unsupportedIterableToArray":20}],18:[function(t,e,r){var i=t("./arrayWithoutHoles"),n=t("./iterableToArray"),o=t("./unsupportedIterableToArray"),a=t("./nonIterableSpread");e.exports=function(t){return i(t)||n(t)||o(t)||a()}},{"./arrayWithoutHoles":3,"./iterableToArray":10,"./nonIterableSpread":13,"./unsupportedIterableToArray":20}],19:[function(t,e,r){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(t){return typeof t}:e.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}e.exports=i},{}],20:[function(t,e,r){var i=t("./arrayLikeToArray");e.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}},{"./arrayLikeToArray":1}],21:[function(t,e,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var n=i(t("@babel/runtime/helpers/classCallCheck")),o=i(t("@babel/runtime/helpers/createClass")),a=[],s=a.forEach,l=a.slice;var u,h=function(t,e,r,i){var n;if(r){var o=new Date;o.setTime(o.getTime()+60*r*1e3),n="; expires="+o.toGMTString()}else n="";i=i?"domain="+i+";":"",document.cookie=t+"="+e+n+";"+i+"path=/"},f=function(t){for(var e=t+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var n=r[i];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null},c={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var r=f(t.lookupCookie);r&&(e=r)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&h(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain)}},d={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var r=window.location.search.substring(1).split("&"),i=0;i<r.length;i++){var n=r[i].indexOf("=");if(0<n)r[i].substring(0,n)===t.lookupQuerystring&&(e=r[i].substring(n+1))}return e}};try{u="undefined"!==window&&null!==window.localStorage;var p="i18next.translate.boo";window.localStorage.setItem(p,"foo"),window.localStorage.removeItem(p)}catch(t){u=!1}var m={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&u){var r=window.localStorage.getItem(t.lookupLocalStorage);r&&(e=r)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&u&&window.localStorage.setItem(e.lookupLocalStorage,t)}},g={name:"navigator",lookup:function(){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var e=0;e<navigator.languages.length;e++)t.push(navigator.languages[e]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return 0<t.length?t:void 0}},y={name:"htmlTag",lookup:function(t){var e,r=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(e=r.getAttribute("lang")),e}},v={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof r[t.lookupFromPathIndex])return;e=r[t.lookupFromPathIndex].replace("/","")}else e=r[0].replace("/","")}return e}},_={name:"subdomain",lookup:function(t){var e;if("undefined"!=typeof window){var r=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);r instanceof Array&&(e="number"==typeof t.lookupFromSubdomainIndex?r[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r[0].replace("http://","").replace("https://","").replace(".",""))}return e}};var b=function(){function r(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n(this,r),this.type="languageDetector",this.detectors={},this.init(t,e)}return o(r,[{key:"init",value:function(t,e,r){var i=1<arguments.length&&void 0!==e?e:{},n=2<arguments.length&&void 0!==r?r:{};this.services=t,this.options=function(r){return s.call(l.call(arguments,1),function(t){if(t)for(var e in t)void 0===r[e]&&(r[e]=t[e])}),r}(i,this.options||{},{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(c),this.addDetector(d),this.addDetector(m),this.addDetector(g),this.addDetector(y),this.addDetector(v),this.addDetector(_)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var r=this;t=t||this.options.order;var i,n=[];if(t.forEach(function(t){if(r.detectors[t]){var e=r.detectors[t].lookup(r.options);e&&"string"==typeof e&&(e=[e]),e&&(n=n.concat(e))}}),n.forEach(function(t){if(!i){var e=r.services.languageUtils.formatLanguageCode(t);r.options.checkWhitelist&&!r.services.languageUtils.isWhitelisted(e)||(i=e)}}),!i){var e=this.i18nOptions.fallbackLng;"string"==typeof e&&(e=[e]),e=e||[],i="[object Array]"===Object.prototype.toString.apply(e)?e[0]:e[0]||e.default&&e.default[0]}return i}},{key:"cacheUserLanguage",value:function(e,t){var r=this;(t=t||this.options.caches)&&(this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(e)||t.forEach(function(t){r.detectors[t]&&r.detectors[t].cacheUserLanguage(e,r.options)}))}}]),r}();b.type="languageDetector",e.exports=b},{"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6}],22:[function(t,e,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var k=i(t("@babel/runtime/helpers/typeof")),I=i(t("@babel/runtime/helpers/objectSpread")),l=i(t("@babel/runtime/helpers/classCallCheck")),n=i(t("@babel/runtime/helpers/createClass")),u=i(t("@babel/runtime/helpers/possibleConstructorReturn")),h=i(t("@babel/runtime/helpers/getPrototypeOf")),f=i(t("@babel/runtime/helpers/assertThisInitialized")),c=i(t("@babel/runtime/helpers/inherits")),o=i(t("@babel/runtime/helpers/toConsumableArray")),d=i(t("@babel/runtime/helpers/slicedToArray")),a={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var r;console&&console[t]&&(r=console)[t].apply(r,o(e))}},p=new(function(){function r(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,r),this.init(t,e)}return n(r,[{key:"init",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{};this.prefix=r.prefix||"i18next:",this.logger=t||a,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,r,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(t){return new r(this.logger,I({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),r}()),m=function(){function t(){l(this,t),this.observers={}}return n(t,[{key:"on",value:function(t,e){var r=this;return t.split(" ").forEach(function(t){r.observers[t]=r.observers[t]||[],r.observers[t].push(e)}),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter(function(t){return t!==e}):delete this.observers[t])}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(function(t){t.apply(void 0,r)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(r))})}}]),t}();function g(){var r,i,t=new Promise(function(t,e){r=t,i=e});return t.resolve=r,t.reject=i,t}function y(t){return null==t?"":""+t}function v(t,e,r){function i(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function n(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");1<o.length;){if(n())return{};var a=i(o.shift());!t[a]&&r&&(t[a]=new r),t=t[a]}return n()?{}:{obj:t,k:i(o.shift())}}function _(t,e,r){var i=v(t,e,Object);i.obj[i.k]=r}function b(t,e){var r=v(t,e),i=r.obj,n=r.k;if(i)return i[n]}function x(t,e,r){var i=b(t,r);return void 0!==i?i:b(e,r)}function s(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function S(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return w[t]}):t}var C=function(){function i(t){var e,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return l(this,i),e=u(this,h(i).call(this)),m.call(f(e)),e.data=t||{},e.options=r,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e}return c(i,m),n(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,r,i){var n=3<arguments.length&&void 0!==i?i:{},o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=[t,e];return r&&"string"!=typeof r&&(a=a.concat(r)),r&&"string"==typeof r&&(a=a.concat(o?r.split(o):r)),-1<t.indexOf(".")&&(a=t.split(".")),b(this.data,a)}},{key:"addResource",value:function(t,e,r,i,n){var o=4<arguments.length&&void 0!==n?n:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var s=[t,e];r&&(s=s.concat(a?r.split(a):r)),-1<t.indexOf(".")&&(i=e,e=(s=t.split("."))[1]),this.addNamespaces(e),_(this.data,s,i),o.silent||this.emit("added",t,e,r,i)}},{key:"addResources",value:function(t,e,r,i){var n=3<arguments.length&&void 0!==i?i:{silent:!1};for(var o in r)"string"!=typeof r[o]&&"[object Array]"!==Object.prototype.toString.apply(r[o])||this.addResource(t,e,o,r[o],{silent:!0});n.silent||this.emit("added",t,e,r)}},{key:"addResourceBundle",value:function(t,e,r,i,n,o){var a=5<arguments.length&&void 0!==o?o:{silent:!1},s=[t,e];-1<t.indexOf(".")&&(i=r,r=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var l=b(this.data,s)||{};i?function t(e,r,i){for(var n in r)n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof r[n]||r[n]instanceof String?i&&(e[n]=r[n]):t(e[n],r[n],i):e[n]=r[n];return e}(l,r,n):l=I({},l,r),_(this.data,s,l),a.silent||this.emit("added",t,e,r)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e=e||this.options.defaultNS,"v1"===this.options.compatibilityAPI?I({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),i}(),M={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,r,i,n){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,r,i,n))}),e}},P={},L=function(){function a(t){var e,r,i,n,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return l(this,a),e=u(this,h(a).call(this)),m.call(f(e)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i=t,n=f(e),r.forEach(function(t){i[t]&&(n[t]=i[t])}),e.options=o,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=p.create("translator"),e}return c(a,m),n(a,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{interpolation:{}},i=this.resolve(t,r);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(t,e){var r=e.nsSeparator||this.options.nsSeparator;void 0===r&&(r=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,n=e.ns||this.options.defaultNS;if(r&&-1<t.indexOf(r)){var o=t.split(r);(r!==i||r===i&&-1<this.options.ns.indexOf(o[0]))&&(n=o.shift()),t=o.join(i)}return"string"==typeof n&&(n=[n]),{key:t,namespaces:n}}},{key:"translate",value:function(t,r){var i=this;if("object"!==k(r)&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),r=r||{},null==t)return"";Array.isArray(t)||(t=[String(t)]);var e=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,n=this.extractFromKey(t[t.length-1],r),o=n.key,a=n.namespaces,s=a[a.length-1],l=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){var h=r.nsSeparator||this.options.nsSeparator;return s+h+o}return o}var f=this.resolve(t,r),c=f&&f.res,d=f&&f.usedKey||o,p=f&&f.exactUsedKey||o,m=Object.prototype.toString.apply(c),g=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&c&&("string"!=typeof c&&"boolean"!=typeof c&&"number"!=typeof c)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0&&("string"!=typeof g||"[object Array]"!==m)){if(!r.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,c,r):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");if(e){var v="[object Array]"===m,_=v?[]:{},b=v?p:d;for(var x in c)if(Object.prototype.hasOwnProperty.call(c,x)){var w="".concat(b).concat(e).concat(x);_[x]=this.translate(w,I({},r,{joinArrays:!1,ns:a})),_[x]===w&&(_[x]=c[x])}c=_}}else if(y&&"string"==typeof g&&"[object Array]"===m)c=(c=c.join(g))&&this.extendTranslation(c,t,r);else{var S=!1,C=!1;if(!this.isValidLookup(c)&&void 0!==r.defaultValue){if(S=!0,void 0!==r.count){var M=this.pluralResolver.getSuffix(l,r.count);c=r["defaultValue".concat(M)]}c=c||r.defaultValue}this.isValidLookup(c)||(C=!0,c=o);var P=r.defaultValue&&r.defaultValue!==c&&this.options.updateMissing;if(C||S||P){this.logger.log(P?"updateKey":"missingKey",l,s,o,P?r.defaultValue:c);var L=[],E=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&E&&E[0])for(var T=0;T<E.length;T++)L.push(E[T]);else"all"===this.options.saveMissingTo?L=this.languageUtils.toResolveHierarchy(r.lng||this.language):L.push(r.lng||this.language);var R=function(t,e){i.options.missingKeyHandler?i.options.missingKeyHandler(t,s,e,P?r.defaultValue:c,P,r):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(t,s,e,P?r.defaultValue:c,P,r),i.emit("missingKey",t,s,e,c)};if(this.options.saveMissing){var A=void 0!==r.count&&"string"!=typeof r.count;this.options.saveMissingPlurals&&A?L.forEach(function(e){i.pluralResolver.getPluralFormsOfKey(e,o).forEach(function(t){return R([e],t)})}):R(L,o)}}c=this.extendTranslation(c,t,r,f),C&&c===o&&this.options.appendNamespaceToMissingKey&&(c="".concat(s,":").concat(o)),C&&this.options.parseMissingKeyHandler&&(c=this.options.parseMissingKeyHandler(c))}return c}},{key:"extendTranslation",value:function(t,e,r,i){var n=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,r,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(I({},r,{interpolation:I({},this.options.interpolation,r.interpolation)}));var o=r.replace&&"string"!=typeof r.replace?r.replace:r;this.options.interpolation.defaultVariables&&(o=I({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,r.lng||this.language,r),!1!==r.nest&&(t=this.interpolator.nest(t,function(){return n.translate.apply(n,arguments)},r)),r.interpolation&&this.interpolator.reset()}var a=r.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return null!=t&&s&&s.length&&!1!==r.applyPostProcessor&&(t=M.handle(s,t,e,this.options&&this.options.postProcessPassResolved?I({i18nResolved:i},r):r,this)),t}},{key:"resolve",value:function(t,e){var u,n,h,f,c,d=this,p=1<arguments.length&&void 0!==e?e:{};return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!d.isValidLookup(u)){var e=d.extractFromKey(t,p),a=e.key;n=a;var r=e.namespaces;d.options.fallbackNS&&(r=r.concat(d.options.fallbackNS));var s=void 0!==p.count&&"string"!=typeof p.count,l=void 0!==p.context&&"string"==typeof p.context&&""!==p.context,i=p.lngs?p.lngs:d.languageUtils.toResolveHierarchy(p.lng||d.language,p.fallbackLng);r.forEach(function(o){d.isValidLookup(u)||(c=o,!P["".concat(i[0],"-").concat(o)]&&d.utils&&d.utils.hasLoadedNamespace&&!d.utils.hasLoadedNamespace(c)&&(P["".concat(i[0],"-").concat(o)]=!0,d.logger.warn('key "'.concat(n,'" for namespace "').concat(c,'" for languages "').concat(i.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),i.forEach(function(t){if(!d.isValidLookup(u)){f=t;var e,r,i=a,n=[i];if(d.i18nFormat&&d.i18nFormat.addLookupKeys)d.i18nFormat.addLookupKeys(n,a,t,o,p);else s&&(e=d.pluralResolver.getSuffix(t,p.count)),s&&l&&n.push(i+e),l&&n.push(i+="".concat(d.options.contextSeparator).concat(p.context)),s&&n.push(i+=e);for(;r=n.pop();)d.isValidLookup(u)||(h=r,u=d.getResource(t,o,r,p))}}))})}}),{res:u,usedKey:n,exactUsedKey:h,usedLng:f,usedNS:c}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,r,i){var n=3<arguments.length&&void 0!==i?i:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,r,n):this.resourceStore.getResource(t,e,r,n)}}]),a}();function E(t){return t.charAt(0).toUpperCase()+t.slice(1)}var T=function(){function e(t){l(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=p.create("languageUtils")}return n(e,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&-1<t.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(t){return t.toLowerCase()}):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),-1<e.indexOf(r[1].toLowerCase())&&(r[1]=E(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),-1<e.indexOf(r[1].toLowerCase())&&(r[1]=E(r[1].toLowerCase())),-1<e.indexOf(r[2].toLowerCase())&&(r[2]=E(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return"languageOnly"!==this.options.load&&!this.options.nonExplicitWhitelist||(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(t)}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var r=t[e];return(r=(r=(r=r||t[this.getScriptPartFromCode(e)])||t[this.formatLanguageCode(e)])||t.default)||[]}},{key:"toResolveHierarchy",value:function(t,e){function r(t){t&&(i.isWhitelisted(t)?o.push(t):i.logger.warn("rejecting non-whitelisted language code: ".concat(t)))}var i=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[];return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):"string"==typeof t&&r(this.formatLanguageCode(t)),n.forEach(function(t){o.indexOf(t)<0&&r(i.formatLanguageCode(t))}),o}}]),e}(),R=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],A={1:function(t){return Number(1<t)},2:function(t){return Number(1!=t)},3:function(){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return Number(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return Number(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(2<=t)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||0<t%100&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||10<t)&&t%10==0?2:3)}};var O=function(){function i(t){var r,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,i),this.languageUtils=t,this.options=e,this.logger=p.create("pluralResolver"),this.rules=(r={},R.forEach(function(e){e.lngs.forEach(function(t){r[t]={numbers:e.nr,plurals:A[e.fc]}})}),r)}return n(i,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(r,i){var n=this,o=[],t=this.getRule(r);return t&&t.numbers.forEach(function(t){var e=n.getSuffix(r,t);o.push("".concat(i).concat(e))}),o}},{key:"getSuffix",value:function(t,e){var r=this,i=this.getRule(t);if(i){var n=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),o=i.numbers[n];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return r.options.prepend&&o.toString()?r.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),i}(),D=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,e),this.logger=p.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.init(t)}return n(e,[{key:"init",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};e.interpolation||(e.interpolation={escapeValue:!0});var r=e.interpolation;this.escape=void 0!==r.escape?r.escape:S,this.escapeValue=void 0===r.escapeValue||r.escapeValue,this.useRawValueToEscape=void 0!==r.useRawValueToEscape&&r.useRawValueToEscape,this.prefix=r.prefix?s(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?s(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?s(r.nestingPrefix):r.nestingPrefixEscaped||s("$t("),this.nestingSuffix=r.nestingSuffix?s(r.nestingSuffix):r.nestingSuffixEscaped||s(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=void 0!==r.alwaysFormat&&r.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,o,a,s){var e,r,i,l=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function n(t){return t.replace(/\$/g,"$$$$")}function h(t){if(t.indexOf(l.formatSeparator)<0){var e=x(o,u,t);return l.alwaysFormat?l.format(e,void 0,a):e}var r=t.split(l.formatSeparator),i=r.shift().trim(),n=r.join(l.formatSeparator).trim();return l.format(x(o,u,i),n,a,s)}this.resetRegExp();var f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler;for(i=0;e=this.regexpUnescape.exec(t);){if(void 0===(r=h(e[1].trim())))if("function"==typeof f){var c=f(t,e,s);r="string"==typeof c?c:""}else this.logger.warn("missed to pass in variable ".concat(e[1]," for interpolating ").concat(t)),r="";else"string"==typeof r||this.useRawValueToEscape||(r=y(r));if(t=t.replace(e[0],n(r)),this.regexpUnescape.lastIndex=0,++i>=this.maxReplaces)break}for(i=0;e=this.regexp.exec(t);){if(void 0===(r=h(e[1].trim())))if("function"==typeof f){var d=f(t,e,s);r="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable ".concat(e[1]," for interpolating ").concat(t)),r="";else"string"==typeof r||this.useRawValueToEscape||(r=y(r));if(r=this.escapeValue?n(this.escape(r)):n(r),t=t.replace(e[0],r),this.regexp.lastIndex=0,++i>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e,r){var i,n,o=I({},2<arguments.length&&void 0!==r?r:{});function a(e,t){var r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;var i=e.split(new RegExp("".concat(r,"[ ]*{"))),n="{".concat(i[1]);e=i[0],n=(n=this.interpolate(n,o)).replace(/'/g,'"');try{o=JSON.parse(n),t&&(o=I({},t,o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(r).concat(n)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;i=this.nestingRegexp.exec(t);){if((n=e(a.call(this,i[1].trim(),o),o))&&i[0]===t&&"string"!=typeof n)return n;"string"!=typeof n&&(n=y(n)),n||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),n=""),t=t.replace(i[0],n),this.regexp.lastIndex=0}return t}}]),e}();var j=function(){function o(t,e,r){var i,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return l(this,o),i=u(this,h(o).call(this)),m.call(f(i)),i.backend=t,i.store=e,i.services=r,i.languageUtils=r.languageUtils,i.options=n,i.logger=p.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,n.backend,n),i}return c(o,m),n(o,[{key:"queueLoad",value:function(t,e,n,r){var o=this,a=[],s=[],l=[],u=[];return t.forEach(function(r){var i=!0;e.forEach(function(t){var e="".concat(r,"|").concat(t);!n.reload&&o.store.hasResourceBundle(r,t)?o.state[e]=2:o.state[e]<0||(1===o.state[e]?s.indexOf(e)<0&&s.push(e):(o.state[e]=1,i=!1,s.indexOf(e)<0&&s.push(e),a.indexOf(e)<0&&a.push(e),u.indexOf(t)<0&&u.push(t)))}),i||l.push(r)}),(a.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:r}),{toLoad:a,pending:s,toLoadLanguages:l,toLoadNamespaces:u}}},{key:"loaded",value:function(s,l,t){var e=s.split("|"),r=d(e,2),u=r[0],h=r[1];l&&this.emit("failedLoading",u,h,l),t&&this.store.addResourceBundle(u,h,t),this.state[s]=l?-1:2;var f={};this.queue.forEach(function(t){var e,r,i,n,o,a;e=t.loaded,r=h,n=v(e,[u],Object),o=n.obj,a=n.k,o[a]=o[a]||[],i&&(o[a]=o[a].concat(r)),i||o[a].push(r),function(t,e){for(var r=t.indexOf(e);-1!==r;)t.splice(r,1),r=t.indexOf(e)}(t.pending,s),l&&t.errors.push(l),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(e){f[e]||(f[e]=[]),t.loaded[e].length&&t.loaded[e].forEach(function(t){f[e].indexOf(t)<0&&f[e].push(t)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(r,i,n,t,e,o){var a=this,s=3<arguments.length&&void 0!==t?t:0,l=4<arguments.length&&void 0!==e?e:350,u=5<arguments.length?o:void 0;return r.length?this.backend[n](r,i,function(t,e){t&&e&&s<5?setTimeout(function(){a.read.call(a,r,i,n,s+1,2*l,u)},l):u(t,e)}):u(null,{})}},{key:"prepareLoading",value:function(t,e,r,i){var n=this,o=2<arguments.length&&void 0!==r?r:{},a=3<arguments.length?i:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var s=this.queueLoad(t,e,o,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(function(t){n.loadOne(t)})}},{key:"load",value:function(t,e,r){this.prepareLoading(t,e,{},r)}},{key:"reload",value:function(t,e,r){this.prepareLoading(t,e,{reload:!0},r)}},{key:"loadOne",value:function(r,t){var i=this,n=1<arguments.length&&void 0!==t?t:"",e=r.split("|"),o=d(e,2),a=o[0],s=o[1];this.read(a,s,"read",void 0,void 0,function(t,e){t&&i.logger.warn("".concat(n,"loading namespace ").concat(s," for language ").concat(a," failed"),t),!t&&e&&i.logger.log("".concat(n,"loaded namespace ").concat(s," for language ").concat(a),e),i.loaded(r,t,e)})}},{key:"saveMissing",value:function(t,e,r,i,n,o){var a=5<arguments.length&&void 0!==o?o:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(r,'" for namespace "').concat(e,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=r&&""!==r&&(this.backend&&this.backend.create&&this.backend.create(t,e,r,i,null,I({},a,{isUpdate:n})),t&&t[0]&&this.store.addResource(t[0],e,r,i))}}]),o}();function F(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function N(){}var G=new(function(){function s(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;if(l(this,s),t=u(this,h(s).call(this)),m.call(f(t)),t.options=F(e),t.services={},t.logger=p,t.modules={external:[]},r&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,r),u(t,f(t));setTimeout(function(){t.init(e,r)},0)}return t}return c(s,m),n(s,[{key:"init",value:function(t,e){var n=this,r=0<arguments.length&&void 0!==t?t:{},i=1<arguments.length?e:void 0;function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof r&&(i=r,r={}),this.options=I({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===k(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===k(t[2])||"object"===k(t[3])){var r=t[3]||t[2];Object.keys(r).forEach(function(t){e[t]=r[t]})}return e},interpolation:{escapeValue:!0,format:function(t){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3}},this.options,F(r)),this.format=this.options.interpolation.format,i=i||N,!this.options.isClone){this.modules.logger?p.init(o(this.modules.logger),this.options):p.init(null,this.options);var a=new T(this.options);this.store=new C(this.options.resources,this.options);var s=this.services;s.logger=p,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new O(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new D(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new j(o(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.emit.apply(n,[t].concat(r))}),this.modules.languageDetector&&(s.languageDetector=o(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=o(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new L(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n.emit.apply(n,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(n)})}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){n[e]=function(){var t;return(t=n.store)[e].apply(t,arguments)}});function l(){n.changeLanguage(n.options.lng,function(t,e){n.isInitialized=!0,n.logger.log("initialized",n.options),n.emit("initialized",n.options),u.resolve(e),i(t,e)})}var u=g();return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(t,e){var r=this,i=1<arguments.length&&void 0!==e?e:N,n="string"==typeof t?t:this.language;if("function"==typeof t&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return i();var o=[],a=function(t){t&&r.services.languageUtils.toResolveHierarchy(t).forEach(function(t){o.indexOf(t)<0&&o.push(t)})};if(n)a(n);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return a(t)});this.options.preload&&this.options.preload.forEach(function(t){return a(t)}),this.services.backendConnector.load(o,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(t,e,r){var i=g();return t=t||this.languages,e=e||this.options.ns,r=r||N,this.services.backendConnector.reload(t,e,function(t){i.resolve(),r(t)}),i}},{key:"use",value:function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&M.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,n){var o=this;this.isLanguageChangingTo=t;var a=g();this.emit("languageChanging",t);function e(i){i&&(o.language||(o.language=i,o.languages=o.services.languageUtils.toResolveHierarchy(i)),o.translator.language||o.translator.changeLanguage(i),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(i)),o.loadResources(i,function(t){var e,r;e=t,(r=i)?(o.language=r,o.languages=o.services.languageUtils.toResolveHierarchy(r),o.translator.changeLanguage(r),o.isLanguageChangingTo=void 0,o.emit("languageChanged",r),o.logger.log("languageChanged",r)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),n&&n(e,function(){return o.t.apply(o,arguments)})})}return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(t):e(this.services.languageDetector.detect()),a}},{key:"getFixedT",value:function(t,e){function a(t,e){var r;if("object"!==k(e)){for(var i=arguments.length,n=new Array(2<i?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];r=s.options.overloadTranslationOptionHandler([t,e].concat(n))}else r=I({},e);return r.lng=r.lng||a.lng,r.lngs=r.lngs||a.lngs,r.ns=r.ns||a.ns,s.t(t,r)}var s=this;return"string"==typeof t?a.lng=t:a.lngs=t,a.ns=e,a}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var i=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var e=this.languages[0],r=!!this.options&&this.options.fallbackLng,n=this.languages[this.languages.length-1];if("cimode"===e.toLowerCase())return!0;function o(t,e){var r=i.services.backendConnector.state["".concat(t,"|").concat(e)];return-1===r||2===r}return!!this.hasResourceBundle(e,t)||(!this.services.backendConnector.backend||!(!o(e,t)||r&&!o(n,t)))}},{key:"loadNamespaces",value:function(t,e){var r=this,i=g();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){r.options.ns.indexOf(t)<0&&r.options.ns.push(t)}),this.loadResources(function(t){i.resolve(),e&&e(t)}),i):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var r=g();"string"==typeof t&&(t=[t]);var i=this.options.preload||[],n=t.filter(function(t){return i.indexOf(t)<0});return n.length?(this.options.preload=i.concat(n),this.loadResources(function(t){r.resolve(),e&&e(t)}),r):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(!(t=t||(this.languages&&0<this.languages.length?this.languages[0]:this.language)))return"rtl";return 0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"}},{key:"createInstance",value:function(t,e){return new s(0<arguments.length&&void 0!==t?t:{},1<arguments.length?e:void 0)}},{key:"cloneInstance",value:function(t,e){var r=this,i=0<arguments.length&&void 0!==t?t:{},n=1<arguments.length&&void 0!==e?e:N,o=I({},this.options,i,{isClone:!0}),a=new s(o);return["store","services","language"].forEach(function(t){a[t]=r[t]}),a.services=I({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new L(a.services,a.options),a.translator.on("*",function(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];a.emit.apply(a,[t].concat(r))}),a.init(o,n),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}}]),s}());e.exports=G},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":8,"@babel/runtime/helpers/inherits":9,"@babel/runtime/helpers/objectSpread":14,"@babel/runtime/helpers/possibleConstructorReturn":15,"@babel/runtime/helpers/slicedToArray":17,"@babel/runtime/helpers/toConsumableArray":18,"@babel/runtime/helpers/typeof":19}],23:[function(t,e,r){"use strict";var i;function g(t,e){return t.b===e.b&&t.a===e.a}function y(t,e){return t.b<e.b||t.b===e.b&&t.a<=e.a}function v(t,e,r){var i=e.b-t.b,n=r.b-e.b;return 0<i+n?i<n?e.a-t.a+i/(i+n)*(t.a-r.a):e.a-r.a+n/(i+n)*(r.a-t.a):0}function _(t,e,r){var i=e.b-t.b,n=r.b-e.b;return 0<i+n?(e.a-r.a)*i+(e.a-t.a)*n:0}function b(t,e){return t.a<e.a||t.a===e.a&&t.b<=e.b}function x(t,e,r){var i=e.a-t.a,n=r.a-e.a;return 0<i+n?i<n?e.b-t.b+i/(i+n)*(t.b-r.b):e.b-r.b+n/(i+n)*(r.b-t.b):0}function w(t,e,r){var i=e.a-t.a,n=r.a-e.a;return 0<i+n?(e.b-r.b)*i+(e.b-t.b)*n:0}function S(t,e,r,i){return(t=t<0?0:t)<=(r=r<0?0:r)?0===r?(e+i)/2:e+t/(t+r)*(i-e):i+r/(t+r)*(e-i)}function a(t){var e=o(t.b);return n(e,t.c),n(e.b,t.c),s(e,t.a),e}function C(t,e){var r=!1,i=!1;t!==e&&(e.a!==t.a&&(i=!0,m(e.a,t.a)),e.d!==t.d&&(r=!0,l(e.d,t.d)),d(e,t),i||(n(e,t.a),t.a.c=t),r||(s(e,t.d),t.d.a=t))}function f(t){var e=t.b,r=!1;t.d!==t.b.d&&(r=!0,l(t.d,t.b.d)),t.c===t?m(t.a,null):(t.b.d.a=Q(t),t.a.c=t.c,d(t,Q(t)),r||s(t,t.d)),e.c===e?(m(e.a,null),l(e.d,null)):(t.d.a=Q(e),e.a.c=e.c,d(e,Q(e))),p(t)}function M(t){var e=o(t),r=e.b;return d(e,t.e),e.a=t.b.a,n(r,e.a),e.d=r.d=t.d,e=e.b,d(t.b,Q(t.b)),d(t.b,e),t.b.a=e.a,e.b.a.c=e.b,e.b.d=t.b.d,e.f=t.f,e.b.f=t.b.f,e}function c(t,e){var r=!1,i=o(t),n=i.b;return e.d!==t.d&&(r=!0,l(e.d,t.d)),d(i,t.e),d(n,e),i.a=t.b.a,n.a=e.a,i.d=n.d=t.d,t.d.a=n,r||s(i,t.d),i}function o(t){var e=new $,r=new $,i=t.b.h;return(((r.h=i).b.h=e).h=t).b.h=r,e.b=r,((e.c=e).e=r).b=e,(r.c=r).e=e}function d(t,e){var r=t.c,i=e.c;r.b.e=e,(i.b.e=t).c=i,e.c=r}function n(t,e){var r=e.f,i=new tt(e,r);for(r.e=i,r=(e.f=i).c=t;r.a=i,(r=r.c)!==t;);}function s(t,e){var r=e.d,i=new K(e,r);for(r.b=i,(e.d=i).a=t,i.c=e.c,r=t;r.d=i,(r=r.e)!==t;);}function p(t){var e=t.h;t=t.b.h,(e.b.h=t).b.h=e}function m(t,e){for(var r=t.c,i=r;i.a=e,(i=i.c)!==r;);r=t.f,((i=t.e).f=r).e=i}function l(t,e){for(var r=t.a,i=r;i.d=e,(i=i.e)!==r;);r=t.d,((i=t.b).d=r).b=i}function P(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e}var L=4e150;function E(t,e){t.f+=e.f,t.b.f+=e.b.f}function u(t,e,r){return t=t.a,e=e.a,r=r.a,e.b.a===t?r.b.a===t?y(e.a,r.a)?_(r.b.a,e.a,r.a)<=0:0<=_(e.b.a,r.a,e.a):_(r.b.a,t,r.a)<=0:r.b.a===t?0<=_(e.b.a,t,e.a):(e=v(e.b.a,t,e.a),(t=v(r.b.a,t,r.a))<=e)}function T(t){t.a.i=null;var e=t.e;e.a.c=e.c,e.c.a=e.a,t.e=null}function h(t,e){f(t.a),t.c=!1,(t.a=e).i=t}function R(t){for(var e=t.a.a;(t=ct(t)).a.a===e;);return t.c&&(h(t,e=c(ft(t).a.b,t.a.e)),t=ct(t)),t}function A(t,e,r){var i=new ht;return i.a=r,i.e=W(t.f,e.e,i),r.i=i}function k(t,e){switch(t.s){case 100130:return 0!=(1&e);case 100131:return 0!==e;case 100132:return 0<e;case 100133:return e<0;case 100134:return 2<=e||e<=-2}return!1}function I(t){var e=t.a,r=e.d;r.c=t.d,r.a=e,T(t)}function O(t,e,r){for(e=(t=e).a;t!==r;){t.c=!1;var i=ft(t),n=i.a;if(n.a!==e.a){if(!i.c){I(t);break}h(i,n=c(e.c.b,n.b))}e.c!==n&&(C(Q(n),n),C(e,n)),I(t),e=i.a,t=i}return e}function D(t,e,r,i,n,o){for(var a=!0;A(t,e,r.b),(r=r.c)!==i;);for(null===n&&(n=ft(e).a.b.c);(r=(i=ft(e)).a.b).a===n.a;)r.c!==n&&(C(Q(r),r),C(Q(n),r)),i.f=e.f-r.f,i.d=k(t,i.f),e.b=!0,!a&&G(t,e)&&(E(r,n),T(e),f(n)),a=!1,e=i,n=r;e.b=!0,o&&B(t,e)}function j(t,e,r,i,n){var o=[e.g[0],e.g[1],e.g[2]];e.d=null,e.d=t.o&&t.o(o,r,i,t.c)||null,null===e.d&&(n?t.n||(Z(t,100156),t.n=!0):e.d=r[0])}function F(t,e,r){var i=[null,null,null,null];i[0]=e.a.d,i[1]=r.a.d,j(t,e.a,i,[.5,.5,0,0],!1),C(e,r)}function N(t,e,r,i,n){var o=Math.abs(e.b-t.b)+Math.abs(e.a-t.a),a=Math.abs(r.b-t.b)+Math.abs(r.a-t.a),s=n+1;i[n]=.5*a/(o+a),i[s]=.5*o/(o+a),t.g[0]+=i[n]*e.g[0]+i[s]*r.g[0],t.g[1]+=i[n]*e.g[1]+i[s]*r.g[1],t.g[2]+=i[n]*e.g[2]+i[s]*r.g[2]}function G(t,e){var r=ft(e),i=e.a,n=r.a;if(y(i.a,n.a)){if(0<_(n.b.a,i.a,n.a))return;if(g(i.a,n.a)){if(i.a!==n.a){r=t.e;var o=i.a.h;if(0<=o){var a=(r=r.b).d,s=r.e,l=r.c,u=l[o];a[u]=a[r.a],(l[a[u]]=u)<=--r.a&&(u<=1||y(s[a[u>>1]],s[a[u]])?lt:ut)(r,u),s[o]=null,l[o]=r.b,r.b=o}else for(r.c[-(o+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;F(t,Q(n),i)}}else M(n.b),C(i,Q(n)),e.b=r.b=!0}else{if(_(i.b.a,n.a,i.a)<0)return;ct(e).b=e.b=!0,M(i.b),C(Q(n),i)}return 1}function V(t,e){var r=ft(e),i=e.a,n=r.a,o=i.a,a=n.a,s=i.b.a,l=n.b.a,u=new tt;if(_(s,t.a,o),_(l,t.a,a),!(o===a||Math.min(o.a,s.a)>Math.max(a.a,l.a))){if(y(o,a)){if(0<_(l,o,a))return}else if(_(s,a,o)<0)return;var h,f,c=s,d=o,p=l,m=a;if(y(c,d)||(h=c,c=d,d=h),y(p,m)||(h=p,p=m,m=h),y(c,p)||(h=c,c=p,p=h,h=d,d=m,m=h),y(p,d)?y(d,m)?((h=v(c,p,d))+(f=v(p,d,m))<0&&(h=-h,f=-f),u.b=S(h,p.b,f,d.b)):((h=_(c,p,d))+(f=-_(c,m,d))<0&&(h=-h,f=-f),u.b=S(h,p.b,f,m.b)):u.b=(p.b+d.b)/2,b(c,d)||(h=c,c=d,d=h),b(p,m)||(h=p,p=m,m=h),b(c,p)||(h=c,c=p,p=h,h=d,d=m,m=h),b(p,d)?b(d,m)?((h=x(c,p,d))+(f=x(p,d,m))<0&&(h=-h,f=-f),u.a=S(h,p.a,f,d.a)):((h=w(c,p,d))+(f=-w(c,m,d))<0&&(h=-h,f=-f),u.a=S(h,p.a,f,m.a)):u.a=(p.a+d.a)/2,y(u,t.a)&&(u.b=t.a.b,u.a=t.a.a),c=y(o,a)?o:a,y(c,u)&&(u.b=c.b,u.a=c.a),g(u,o)||g(u,a))return G(t,e),0;if(!g(s,t.a)&&0<=_(s,t.a,u)||!g(l,t.a)&&_(l,t.a,u)<=0){if(l===t.a)return M(i.b),C(n.b,i),i=ft(e=R(e)).a,O(t,ft(e),r),D(t,e,Q(i),i,i,!0),1;if(s!==t.a)return 0<=_(s,t.a,u)&&(ct(e).b=e.b=!0,M(i.b),i.a.b=t.a.b,i.a.a=t.a.a),void(_(l,t.a,u)<=0&&(e.b=r.b=!0,M(n.b),n.a.b=t.a.b,n.a.a=t.a.a));for(M(n.b),C(i.e,Q(n)),a=(o=r=e).a.b.a;(o=ct(o)).a.b.a===a;);return o=ft(e=o).a.b.c,r.a=Q(n),D(t,e,(n=O(t,r,null)).c,i.b.c,o,!0),1}M(i.b),M(n.b),C(Q(n),i),i.a.b=u.b,i.a.a=u.a,i.a.h=rt(t.e,i.a),i=i.a,n=[0,0,0,0],u=[o.d,s.d,a.d,l.d],i.g[0]=i.g[1]=i.g[2]=0,N(i,o,s,n,0),N(i,a,l,n,2),j(t,i,u,n,!0),ct(e).b=e.b=r.b=!0}}function B(t,e){for(var r=ft(e);;){for(;r.b;)r=ft(e=r);if(!e.b&&(null===(e=ct(r=e))||!e.b))break;e.b=!1;var i,n=e.a,o=r.a;if(i=n.b.a!==o.b.a)t:{var a=ft(i=e),s=i.a,l=a.a,u=void 0;if(y(s.b.a,l.b.a)){if(_(s.b.a,l.b.a,s.a)<0){i=!1;break t}ct(i).b=i.b=!0,u=M(s),C(l.b,u),u.d.c=i.d}else{if(0<_(l.b.a,s.b.a,l.a)){i=!1;break t}i.b=a.b=!0,u=M(l),C(s.e,l.b),u.b.d.c=i.d}i=!0}if(i&&(r.c?(T(r),f(o),o=(r=ft(e)).a):e.c&&(T(e),f(n),n=(e=ct(r)).a)),n.a!==o.a)if(n.b.a===o.b.a||e.c||r.c||n.b.a!==t.a&&o.b.a!==t.a)G(t,e);else if(V(t,e))break;n.a===o.a&&n.b.a===o.b.a&&(E(o,n),T(e),f(n),e=ct(r))}}function z(t,e){for(var r=(t.a=e).c;null===r.i;)if((r=r.c)===e.c){r=t;var i=e;(a=new ht).a=i.c.b;for(var n=(l=r.f).a;null!==(n=n.a).b&&!l.c(l.b,a,n.b););var o=ft(l=n.b),a=l.a;n=o.a;if(0===_(a.b.a,i,a.a))g((a=l.a).a,i)||g(a.b.a,i)||(M(a.b),l.c&&(f(a.c),l.c=!1),C(i.c,a),z(r,i));else{var s=y(n.b.a,a.b.a)?l:o;o=void 0;l.d||s.c?(o=s===l?c(i.c.b,a.e):c(n.b.c.b,i.c).b,s.c?h(s,o):((l=A(a=r,l,o)).f=ct(l).f+l.a.f,l.d=k(a,l.f)),z(r,i)):D(r,l,i.c,i.c,null,!0)}return}if(l=(a=ft(r=R(r.i))).a,(a=O(t,a,null)).c===l){a=(l=a).c,n=ft(r),o=r.a,s=n.a;var l,u=!1;o.b.a!==s.b.a&&V(t,r),g(o.a,t.a)&&(C(Q(a),o),a=ft(r=R(r)).a,O(t,ft(r),n),u=!0),g(s.a,t.a)&&(C(l,Q(s)),l=O(t,n,null),u=!0),u?D(t,r,l.c,a,a,!0):(i=y(s.a,o.a)?Q(s):o,D(t,r,i=c(l.c.b,i),i.c,i.c,!1),i.b.i.c=!0,B(t,r))}else D(t,r,a.c,l,l,!0)}function U(t,e){var r=new ht,i=a(t.b);i.a.b=L,i.a.a=e,i.b.a.b=-L,i.b.a.a=e,t.a=i.b.a,r.a=i,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,i=W(i=t.f,i.a,r),r.e=i}function H(t){this.a=new q,this.b=t,this.c=u}function W(t,e,r){for(;null!==(e=e.c).b&&!t.c(t.b,e.b,r););return t=new q(r,e.a,e),e.a.c=t,e.a=t}function q(t,e,r){this.b=t||null,this.a=e||this,this.c=r||this}function X(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Y(t,e){if(t.d!==e)for(;t.d!==e;)if(t.d<e)switch(t.d){case 0:Z(t,100151),t.u(null);break;case 1:Z(t,100152),t.t()}else switch(t.d){case 2:Z(t,100154),t.v();break;case 1:Z(t,100153),t.w()}}function Z(t,e){t.p&&t.p(e,t.c)}function K(t,e){this.b=t||this,this.d=e||this,this.a=null,this.c=!1}function $(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Q(t){return t.b.e}function J(){this.c=new tt,this.a=new K,this.b=new $,this.d=new $,this.b.b=this.d,this.d.b=this.b}function tt(t,e){this.e=t||this,this.f=e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function et(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new nt}function rt(t,e){if(t.e){var r,i=t.b,n=++i.a;return 2*n>i.f&&(i.f*=2,i.c=ot(i.c,i.f+1)),0===i.b?r=n:(r=i.b,i.b=i.c[i.b]),i.e[r]=e,i.c[r]=n,i.d[n]=r,i.h&&ut(i,n),r}return i=t.a++,t.c[i]=e,-(i+1)}function it(t){if(0===t.a)return st(t.b);var e=t.c[t.d[t.a-1]];if(0!==t.b.a&&y(at(t.b),e))return st(t.b);for(;--t.a,0<t.a&&null===t.c[t.d[t.a-1]];);return e}function nt(){this.d=ot([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ot(t,e){for(var r=Array(e),i=0;i<t.length;i++)r[i]=t[i];for(;i<e;i++)r[i]=0;return r}function at(t){return t.e[t.d[1]]}function st(t){var e=t.d,r=t.e,i=t.c,n=e[1],o=r[n];return 0<t.a&&(e[1]=e[t.a],i[e[1]]=1,r[n]=null,i[n]=t.b,t.b=n,0<--t.a&&lt(t,1)),o}function lt(t,e){for(var r=t.d,i=t.e,n=t.c,o=e,a=r[o];;){var s=o<<1;s<t.a&&y(i[r[s+1]],i[r[s]])&&(s+=1);var l=r[s];if(s>t.a||y(i[a],i[l])){n[r[o]=a]=o;break}n[r[o]=l]=o,o=s}}function ut(t,e){for(var r=t.d,i=t.e,n=t.c,o=e,a=r[o];;){var s=o>>1,l=r[s];if(0==s||y(i[l],i[a])){n[r[o]=a]=o;break}n[r[o]=l]=o,o=s}}function ht(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ft(t){return t.e.c.b}function ct(t){return t.e.a.b}(i=X.prototype).x=function(){Y(this,0)},i.B=function(t,e){switch(t){case 100142:return;case 100140:switch(e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=e)}break;case 100141:return void(this.m=!!e);default:return void Z(this,100900)}Z(this,100901)},i.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},i.A=function(t,e,r){this.j[0]=t,this.j[1]=e,this.j[2]=r},i.z=function(t,e){var r=e||null;switch(t){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:Z(this,100900)}},i.C=function(t,e){var r=!1,i=[0,0,0];Y(this,2);for(var n=0;n<3;++n){var o=t[n];o<-1e150&&(o=-1e150,r=!0),1e150<o&&(o=1e150,r=!0),i[n]=o}r&&Z(this,100155),null===(r=this.q)?C(r=a(this.b),r.b):(M(r),r=r.e),r.a.d=e,r.a.g[0]=i[0],r.a.g[1]=i[1],r.a.g[2]=i[2],r.f=1,r.b.f=-1,this.q=r},i.u=function(t){Y(this,0),this.d=1,this.b=new J,this.c=t},i.t=function(){Y(this,1),this.d=2,this.q=null},i.v=function(){Y(this,2),this.d=1},i.w=function(){Y(this,1),this.d=0;var t,e,r=!1,i=[l=this.j[0],n=this.j[1],a=this.j[2]];if(0===l&&0===n&&0===a){for(var n=[-2e150,-2e150,-2e150],o=[2e150,2e150,2e150],a=[],s=[],l=(r=this.b.c).e;l!==r;l=l.e)for(var u=0;u<3;++u){var h=l.g[u];h<o[u]&&(o[u]=h,s[u]=l),h>n[u]&&(n[u]=h,a[u]=l)}if(l=0,n[1]-o[1]>n[0]-o[0]&&(l=1),n[2]-o[2]>n[l]-o[l]&&(l=2),o[l]>=n[l])i[0]=0,i[1]=0,i[2]=1;else{for(n=0,o=s[l],a=a[l],s=[0,0,0],o=[o.g[0]-a.g[0],o.g[1]-a.g[1],o.g[2]-a.g[2]],u=[0,0,0],l=r.e;l!==r;l=l.e)u[0]=l.g[0]-a.g[0],u[1]=l.g[1]-a.g[1],u[2]=l.g[2]-a.g[2],s[0]=o[1]*u[2]-o[2]*u[1],s[1]=o[2]*u[0]-o[0]*u[2],s[2]=o[0]*u[1]-o[1]*u[0],n<(h=s[0]*s[0]+s[1]*s[1]+s[2]*s[2])&&(n=h,i[0]=s[0],i[1]=s[1],i[2]=s[2]);n<=0&&(i[0]=i[1]=i[2]=0,i[P(o)]=1)}r=!0}for(s=P(i),l=this.b.c,n=(s+1)%3,a=(s+2)%3,s=0<i[s]?1:-1,i=l.e;i!==l;i=i.e)i.b=i.g[n],i.a=s*i.g[a];if(r){for(i=0,l=(r=this.b.a).b;l!==r;l=l.b)if(!((n=l.a).f<=0))for(;i+=(n.a.b-n.b.a.b)*(n.a.a+n.b.a.a),(n=n.e)!==l.a;);if(i<0)for(r=(i=this.b.c).e;r!==i;r=r.e)r.a=-r.a}for(this.n=!1,l=(i=this.b.b).h;l!==i;l=r)r=l.h,n=l.e,g(l.a,l.b.a)&&l.e.e!==l&&(F(this,n,l),f(l),n=(l=n).e),n.e===l&&(n!==l&&(n!==r&&n!==r.b||(r=r.h),f(n)),l!==r&&l!==r.b||(r=r.h),f(l));for(this.e=i=new et,l=(r=this.b.c).e;l!==r;l=l.e)l.h=rt(i,l);for(!function(t){t.d=[];for(var e=0;e<t.a;e++)t.d[e]=e;t.d.sort(function(r){return function(t,e){return y(r[t],r[e])?1:-1}}(t.c)),t.e=!0,function(t){for(var e=t.a;1<=e;--e)lt(t,e);t.h=!0}(t.b)}(i),this.f=new H(this),U(this,-L),U(this,L);null!==(i=it(this.e));){for(;;){t:if(l=this.e,0===l.a)r=at(l.b);else if(r=l.c[l.d[l.a-1]],0!==l.b.a&&(l=at(l.b),y(l,r))){r=l;break t}if(null===r||!g(r,i))break;r=it(this.e),F(this,i.c,r.c)}z(this,i)}for(this.a=this.f.a.a.b.a.a,i=0;null!==(r=this.f.a.a.b);)r.h||++i,T(r);for(this.f=null,(i=this.e).b=null,i.d=null,this.e=i.c=null,l=(i=this.b).a.b;l!==i.a;l=r)r=l.b,(l=l.a).e.e===l&&(E(l.c,l),f(l));if(!this.n){if(i=this.b,this.m)for(l=i.b.h;l!==i.b;l=r)r=l.h,l.b.d.c!==l.d.c?l.f=l.d.c?1:-1:f(l);else for(l=i.a.b;l!==i.a;l=r)if(r=l.b,l.c){for(l=l.a;y(l.b.a,l.a);l=l.c.b);for(;y(l.a,l.b.a);l=l.e);for(n=l.c.b,a=void 0;l.e!==n;)if(y(l.b.a,n.a)){for(;n.e!==l&&(y((e=n.e).b.a,e.a)||_(n.a,n.b.a,n.e.b.a)<=0);)n=(a=c(n.e,n)).b;n=n.c.b}else{for(;n.e!==l&&(y((t=l.c.b).a,t.b.a)||0<=_(l.b.a,l.a,l.c.b.a));)l=(a=c(l,l.c.b)).b;l=l.e}for(;n.e.e!==l;)n=(a=c(n.e,n)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(r=(i=this.b).a.b;r!==i.a;r=r.b)if(r.c){for(this.h&&this.h(2,this.c),l=r.a;this.k&&this.k(l.a.d,this.c),(l=l.e)!==r.a;);this.i&&this.i(this.c)}}else{for(i=this.b,r=!!this.l,l=!1,n=-1,a=i.a.d;a!==i.a;a=a.d)if(a.c)for(l||(this.h&&this.h(4,this.c),l=!0),s=a.a;r&&(n!==(o=s.b.d.c?0:1)&&(n=o,this.l&&this.l(!!n,this.c))),this.k&&this.k(s.a.d,this.c),(s=s.e)!==a.a;);l&&this.i&&this.i(this.c)}if(this.r){for(l=(i=this.b).a.b;l!==i.a;l=r)if(r=l.b,!l.c){for(a=(n=l.a).e,s=void 0;a=(s=a).e,(s.d=null)===s.b.d&&(s.c===s?m(s.a,null):(s.a.c=s.c,d(s,Q(s))),(o=s.b).c===o?m(o.a,null):(o.a.c=o.c,d(o,Q(o))),p(s)),s!==n;);n=l.d,((l=l.b).d=n).b=l}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:X,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},X.prototype.gluDeleteTess=X.prototype.x,X.prototype.gluTessProperty=X.prototype.B,X.prototype.gluGetTessProperty=X.prototype.y,X.prototype.gluTessNormal=X.prototype.A,X.prototype.gluTessCallback=X.prototype.z,X.prototype.gluTessVertex=X.prototype.C,X.prototype.gluTessBeginPolygon=X.prototype.u,X.prototype.gluTessBeginContour=X.prototype.t,X.prototype.gluTessEndContour=X.prototype.v,X.prototype.gluTessEndPolygon=X.prototype.w,void 0!==e&&(e.exports=this.libtess)},{}],24:[function(t,e,r){"use strict";function E(t,e,r,i){for(var n=t[e++],o=1<<n,a=1+o,s=1+a,l=n+1,u=(1<<l)-1,h=0,f=0,c=0,d=t[e++],p=new Int32Array(4096),m=null;;){for(;h<16&&0!==d;)f|=t[e++]<<h,h+=8,1===d?d=t[e++]:--d;if(h<l)break;var g=f&u;if(f>>=l,h-=l,g!=o){if(g==a)break;for(var y=g<s?g:m,v=0,_=y;o<_;)_=p[_]>>8,++v;var b=_;if(i<c+v+(y!==g?1:0))return void console.log("Warning, gif stream longer than expected.");r[c++]=b;var x=c+=v;for(y!==g&&(r[c++]=b),_=y;v--;)_=p[_],r[--x]=255&_,_>>=8;null!==m&&s<4096&&(p[s++]=m<<8|b,u+1<=s&&l<12&&(++l,u=u<<1|1)),m=g}else s=1+a,u=(1<<(l=n+1))-1,m=null}return c!==i&&console.log("Warning, gif stream shorter than expected."),r}try{r.GifWriter=function(y,t,e,r){var v=0,i=void 0===(r=void 0===r?{}:r).loop?null:r.loop,_=void 0===r.palette?null:r.palette;if(t<=0||e<=0||65535<t||65535<e)throw new Error("Width/Height invalid.");function b(t){var e=t.length;if(e<2||256<e||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}y[v++]=71,y[v++]=73,y[v++]=70,y[v++]=56,y[v++]=57,y[v++]=97;var n=0,o=0;if(null!==_){for(var a=b(_);a>>=1;)++n;if(a=1<<n,--n,void 0!==r.background){if(a<=(o=r.background))throw new Error("Background index out of range.");if(0===o)throw new Error("Background index explicitly passed as 0.")}}if(y[v++]=255&t,y[v++]=t>>8&255,y[v++]=255&e,y[v++]=e>>8&255,y[v++]=(null!==_?128:0)|n,y[v++]=o,y[v++]=0,null!==_)for(var s=0,l=_.length;s<l;++s){var u=_[s];y[v++]=u>>16&255,y[v++]=u>>8&255,y[v++]=255&u}if(null!==i){if(i<0||65535<i)throw new Error("Loop count invalid.");y[v++]=33,y[v++]=255,y[v++]=11,y[v++]=78,y[v++]=69,y[v++]=84,y[v++]=83,y[v++]=67,y[v++]=65,y[v++]=80,y[v++]=69,y[v++]=50,y[v++]=46,y[v++]=48,y[v++]=3,y[v++]=1,y[v++]=255&i,y[v++]=i>>8&255,y[v++]=0}var x=!1;this.addFrame=function(t,e,r,i,n,o){if(!0===x&&(--v,x=!1),o=void 0===o?{}:o,t<0||e<0||65535<t||65535<e)throw new Error("x/y invalid.");if(r<=0||i<=0||65535<r||65535<i)throw new Error("Width/Height invalid.");if(n.length<r*i)throw new Error("Not enough pixels for the frame size.");var a=!0,s=o.palette;if(null==s&&(a=!1,s=_),null==s)throw new Error("Must supply either a local or global palette.");for(var l=b(s),u=0;l>>=1;)++u;l=1<<u;var h=void 0===o.delay?0:o.delay,f=void 0===o.disposal?0:o.disposal;if(f<0||3<f)throw new Error("Disposal out of range.");var c=!1,d=0;if(void 0!==o.transparent&&null!==o.transparent&&(c=!0,(d=o.transparent)<0||l<=d))throw new Error("Transparent color index.");if(0===f&&!c&&0===h||(y[v++]=33,y[v++]=249,y[v++]=4,y[v++]=f<<2|(!0===c?1:0),y[v++]=255&h,y[v++]=h>>8&255,y[v++]=d,y[v++]=0),y[v++]=44,y[v++]=255&t,y[v++]=t>>8&255,y[v++]=255&e,y[v++]=e>>8&255,y[v++]=255&r,y[v++]=r>>8&255,y[v++]=255&i,y[v++]=i>>8&255,y[v++]=!0===a?128|u-1:0,!0===a)for(var p=0,m=s.length;p<m;++p){var g=s[p];y[v++]=g>>16&255,y[v++]=g>>8&255,y[v++]=255&g}return v=function(e,r,t,i){e[r++]=t;var n=r++,o=1<<t,a=o-1,s=1+o,l=1+s,u=t+1,h=0,f=0;function c(t){for(;t<=h;)e[r++]=255&f,f>>=8,h-=8,r===n+256&&(e[n]=255,n=r++)}function d(t){f|=t<<h,h+=u,c(8)}var p=i[0]&a,m={};d(o);for(var g=1,y=i.length;g<y;++g){var v=i[g]&a,_=p<<8|v,b=m[_];if(void 0===b){for(f|=p<<h,h+=u;8<=h;)e[r++]=255&f,f>>=8,h-=8,r===n+256&&(e[n]=255,n=r++);4096===l?(d(o),l=1+s,u=t+1,m={}):(1<<u<=l&&++u,m[_]=l++),p=v}else p=b}d(p),d(s),c(1),n+1===r?e[n]=0:(e[n]=r-n-1,e[r++]=0);return r}(y,v,u<2?2:u,n)},this.end=function(){return!1===x&&(y[v++]=59,x=!0),v},this.getOutputBuffer=function(){return y},this.setOutputBuffer=function(t){y=t},this.getOutputBufferPosition=function(){return v},this.setOutputBufferPosition=function(t){v=t}},r.GifReader=function(x){var t=0;if(71!==x[t++]||73!==x[t++]||70!==x[t++]||56!==x[t++]||56!=(x[t++]+1&253)||97!==x[t++])throw new Error("Invalid GIF 87a/89a header.");var w=x[t++]|x[t++]<<8,e=x[t++]|x[t++]<<8,r=x[t++],i=r>>7,n=1<<1+(7&r);x[t++],x[t++];var o=null,a=null;i&&(o=t,t+=3*(a=n));var s=!0,l=[],u=0,h=null,f=0,c=null;for(this.width=w,this.height=e;s&&t<x.length;)switch(x[t++]){case 33:switch(x[t++]){case 255:if(11!==x[t]||78==x[t+1]&&69==x[t+2]&&84==x[t+3]&&83==x[t+4]&&67==x[t+5]&&65==x[t+6]&&80==x[t+7]&&69==x[t+8]&&50==x[t+9]&&46==x[t+10]&&48==x[t+11]&&3==x[t+12]&&1==x[t+13]&&0==x[t+16])t+=14,c=x[t++]|x[t++]<<8,t++;else for(t+=12;;){if(!(0<=(L=x[t++])))throw Error("Invalid block size");if(0===L)break;t+=L}break;case 249:if(4!==x[t++]||0!==x[t+4])throw new Error("Invalid graphics extension block.");var d=x[t++];u=x[t++]|x[t++]<<8,h=x[t++],0==(1&d)&&(h=null),f=d>>2&7,t++;break;case 254:for(;;){if(!(0<=(L=x[t++])))throw Error("Invalid block size");if(0===L)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+x[t-1].toString(16))}break;case 44:var p=x[t++]|x[t++]<<8,m=x[t++]|x[t++]<<8,g=x[t++]|x[t++]<<8,y=x[t++]|x[t++]<<8,v=x[t++],_=v>>6&1,b=1<<1+(7&v),S=o,C=a,M=!1;if(v>>7){M=!0;S=t,t+=3*(C=b)}var P=t;for(t++;;){var L;if(!(0<=(L=x[t++])))throw Error("Invalid block size");if(0===L)break;t+=L}l.push({x:p,y:m,width:g,height:y,has_local_palette:M,palette_offset:S,palette_size:C,data_offset:P,data_length:t-P,transparent_index:h,interlaced:!!_,delay:u,disposal:f});break;case 59:s=!1;break;default:throw new Error("Unknown gif block: 0x"+x[t-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return c},this.frameInfo=function(t){if(t<0||t>=l.length)throw new Error("Frame index out of range.");return l[t]},this.decodeAndBlitFrameBGRA=function(t,e){var r=this.frameInfo(t),i=r.width*r.height,n=new Uint8Array(i);E(x,r.data_offset,n,i);var o=r.palette_offset,a=r.transparent_index;null===a&&(a=256);var s=r.width,l=w-s,u=s,h=4*(r.y*w+r.x),f=4*((r.y+r.height)*w+r.x),c=h,d=4*l;!0===r.interlaced&&(d+=4*w*7);for(var p=8,m=0,g=n.length;m<g;++m){var y=n[m];if(0===u&&(u=s,f<=(c+=d)&&(d=4*l+4*w*(p-1),c=h+(s+l)*(p<<1),p>>=1)),y===a)c+=4;else{var v=x[o+3*y],_=x[o+3*y+1],b=x[o+3*y+2];e[c++]=b,e[c++]=_,e[c++]=v,e[c++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,e){var r=this.frameInfo(t),i=r.width*r.height,n=new Uint8Array(i);E(x,r.data_offset,n,i);var o=r.palette_offset,a=r.transparent_index;null===a&&(a=256);var s=r.width,l=w-s,u=s,h=4*(r.y*w+r.x),f=4*((r.y+r.height)*w+r.x),c=h,d=4*l;!0===r.interlaced&&(d+=4*w*7);for(var p=8,m=0,g=n.length;m<g;++m){var y=n[m];if(0===u&&(u=s,f<=(c+=d)&&(d=4*l+4*w*(p-1),c=h+(s+l)*(p<<1),p>>=1)),y===a)c+=4;else{var v=x[o+3*y],_=x[o+3*y+1],b=x[o+3*y+2];e[c++]=v,e[c++]=_,e[c++]=b,e[c++]=255}--u}}}}catch(t){}},{}],25:[function(t,e,u){(function(n){function o(t,e){for(var r=0,i=t.length-1;0<=i;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function a(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}u.resolve=function(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var i=0<=r?arguments[r]:n.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},u.normalize=function(t){var e=u.isAbsolute(t),r="/"===i(t,-1);return(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},u.isAbsolute=function(t){return"/"===t.charAt(0)},u.join=function(){var t=Array.prototype.slice.call(arguments,0);return u.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},u.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=u.resolve(t).substr(1),e=u.resolve(e).substr(1);for(var i=r(t.split("/")),n=r(e.split("/")),o=Math.min(i.length,n.length),a=o,s=0;s<o;s++)if(i[s]!==n[s]){a=s;break}var l=[];for(s=a;s<i.length;s++)l.push("..");return(l=l.concat(n.slice(a))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,n=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!n){i=o;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":t.slice(0,i)},u.basename=function(t,e){var r=function(t){"string"!=typeof t&&(t+="");var e,r=0,i=-1,n=!0;for(e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!n){r=e+1;break}}else-1===i&&(n=!1,i=e+1);return-1===i?"":t.slice(r,i)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},u.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,i=-1,n=!0,o=0,a=t.length-1;0<=a;--a){var s=t.charCodeAt(a);if(47===s){if(n)continue;r=a+1;break}-1===i&&(n=!1,i=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===r+1?"":t.slice(e,i)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:26}],26:[function(t,e,r){var i,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(t){i=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,h=[],f=!1,c=-1;function d(){f&&u&&(f=!1,u.length?h=u.concat(h):c=-1,h.length&&p())}function p(){if(!f){var t=l(d);f=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new m(t,e)),1!==h.length||f||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};n.default.ColorConversion={},n.default.ColorConversion._hsbaToHSLA=function(t){var e=t[0],r=t[1],i=t[2],n=(2-r)*i/2;return 0!=n&&(1==n?r=0:n<.5?r/=2-r:r=r*i/(2-2*n)),[e,r,n,t[3]]},n.default.ColorConversion._hsbaToRGBA=function(t){var e=6*t[0],r=t[1],i=t[2],n=[];if(0===r)n=[i,i,i,t[3]];else{var o,a,s,l=Math.floor(e),u=i*(1-r),h=i*(1-r*(e-l)),f=i*(1-r*(1+l-e));s=1===l?(o=h,a=i,u):2===l?(o=u,a=i,f):3===l?(o=u,a=h,i):4===l?(o=f,a=u,i):5===l?(o=i,a=u,h):(o=i,a=f,u),n=[o,a,s,t[3]]}return n},n.default.ColorConversion._hslaToHSBA=function(t){var e,r=t[0],i=t[1],n=t[2];return[r,i=2*((e=n<.5?(1+i)*n:n+i-n*i)-n)/e,e,t[3]]},n.default.ColorConversion._hslaToRGBA=function(t){var e=6*t[0],r=t[1],i=t[2],n=[];if(0===r)n=[i,i,i,t[3]];else{var o,a=2*i-(o=i<.5?(1+r)*i:i+r-i*r),s=function(t,e,r){return t<0?t+=6:6<=t&&(t-=6),t<1?e+(r-e)*t:t<3?r:t<4?e+(r-e)*(4-t):e};n=[s(2+e,a,o),s(e,a,o),s(e-2,a,o),t[3]]}return n},n.default.ColorConversion._rgbaToHSBA=function(t){var e,r,i=t[0],n=t[1],o=t[2],a=Math.max(i,n,o),s=a-Math.min(i,n,o);return 0==s?r=e=0:(r=s/a,i===a?e=(n-o)/s:n===a?e=2+(o-i)/s:o===a&&(e=4+(i-n)/s),e<0?e+=6:6<=e&&(e-=6)),[e/6,r,a,t[3]]},n.default.ColorConversion._rgbaToHSLA=function(t){var e,r,i=t[0],n=t[1],o=t[2],a=Math.max(i,n,o),s=Math.min(i,n,o),l=a+s,u=a-s;return 0==u?r=e=0:(r=l<1?u/l:u/(2-l),i===a?e=(n-o)/u:n===a?e=2+(o-i)/u:o===a&&(e=4+(i-n)/u),e<0?e+=6:6<=e&&(e-=6)),[e/6,r,l/2,t[3]]};var o=n.default.ColorConversion;r.default=o},{"../core/main":38}],28:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,f=(i=t("../core/main"))&&i.__esModule?i:{default:i},c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}t("./p5.Color"),t("../core/error_helpers"),f.default.prototype.alpha=function(t){return f.default._validateParameters("alpha",arguments),this.color(t)._getAlpha()},f.default.prototype.blue=function(t){return f.default._validateParameters("blue",arguments),this.color(t)._getBlue()},f.default.prototype.brightness=function(t){return f.default._validateParameters("brightness",arguments),this.color(t)._getBrightness()},f.default.prototype.color=function(){if(f.default._validateParameters("color",arguments),arguments[0]instanceof f.default.Color)return arguments[0];var t=arguments[0]instanceof Array?arguments[0]:arguments;return new f.default.Color(this,t)},f.default.prototype.green=function(t){return f.default._validateParameters("green",arguments),this.color(t)._getGreen()},f.default.prototype.hue=function(t){return f.default._validateParameters("hue",arguments),this.color(t)._getHue()},f.default.prototype.lerpColor=function(t,e,r){f.default._validateParameters("lerpColor",arguments);var i,n,o,a,s,l,u=this._colorMode,h=this._colorMaxes;if(u===c.RGB)s=t.levels.map(function(t){return t/255}),l=e.levels.map(function(t){return t/255});else if(u===c.HSB)t._getBrightness(),e._getBrightness(),s=t.hsba,l=e.hsba;else{if(u!==c.HSL)throw new Error("".concat(u,"cannot be used for interpolation."));t._getLightness(),e._getLightness(),s=t.hsla,l=e.hsla}return r=Math.max(Math.min(r,1),0),void 0===this.lerp&&(this.lerp=function(t,e,r){return r*(e-t)+t}),i=this.lerp(s[0],l[0],r),n=this.lerp(s[1],l[1],r),o=this.lerp(s[2],l[2],r),a=this.lerp(s[3],l[3],r),i*=h[u][0],n*=h[u][1],o*=h[u][2],a*=h[u][3],this.color(i,n,o,a)},f.default.prototype.lightness=function(t){return f.default._validateParameters("lightness",arguments),this.color(t)._getLightness()},f.default.prototype.red=function(t){return f.default._validateParameters("red",arguments),this.color(t)._getRed()},f.default.prototype.saturation=function(t){return f.default._validateParameters("saturation",arguments),this.color(t)._getSaturation()};var n=f.default;r.default=n},{"../core/constants":31,"../core/error_helpers":33,"../core/main":38,"./p5.Color":29}],29:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var f=i(t("../core/main")),c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants")),d=i(t("./color_conversion"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function i(t){return t&&t.__esModule?t:{default:t}}f.default.Color=function(t,e){if(this._storeModeAndMaxes(t._colorMode,t._colorMaxes),this.mode!==c.RGB&&this.mode!==c.HSL&&this.mode!==c.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=f.default.Color._parseInputs.apply(this,e),this._calculateLevels(),this},f.default.Color.prototype.toString=function(t){var e=this.levels,r=this._array,i=r[3];switch(t){case"#rrggbb":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16));case"#rrggbbaa":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16),e[3]<16?"0".concat(e[2].toString(16)):e[3].toString(16));case"#rgb":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16),Math.round(15*r[3]).toString(16));case"rgb":return"rgb(".concat(e[0],", ",e[1],", ",e[2],")");case"rgb%":return"rgb(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%, ",(100*r[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",i,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*i).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",i,")");case"hsla%":return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*i).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(e[0],",",e[1],",",e[2],",",i,")")}},f.default.Color.prototype.setRed=function(t){this._array[0]=t/this.maxes[c.RGB][0],this._calculateLevels()},f.default.Color.prototype.setGreen=function(t){this._array[1]=t/this.maxes[c.RGB][1],this._calculateLevels()},f.default.Color.prototype.setBlue=function(t){this._array[2]=t/this.maxes[c.RGB][2],this._calculateLevels()},f.default.Color.prototype.setAlpha=function(t){this._array[3]=t/this.maxes[this.mode][3],this._calculateLevels()},f.default.Color.prototype._calculateLevels=function(){for(var t=this._array,e=this.levels=new Array(t.length),r=t.length-1;0<=r;--r)e[r]=Math.round(255*t[r])},f.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},f.default.Color.prototype._storeModeAndMaxes=function(t,e){this.mode=t,this.maxes=e},f.default.Color.prototype._getMode=function(){return this.mode},f.default.Color.prototype._getMaxes=function(){return this.maxes},f.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[c.RGB][2]},f.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]},f.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[c.RGB][1]},f.default.Color.prototype._getHue=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])},f.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]},f.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[c.RGB][0]},f.default.Color.prototype._getSaturation=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=d.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=d.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])};var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},n=/\s*/,o=/(\d{1,3})/,l=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,u=new RegExp("".concat(l.source,"%")),m={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(n.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(n.source),"i"),RGBA:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",l.source,"\\)$"].join(n.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",l.source,"\\)$"].join(n.source),"i"),HSL:new RegExp(["^hsl\\(",o.source,",",u.source,",",u.source,"\\)$"].join(n.source),"i"),HSLA:new RegExp(["^hsla\\(",o.source,",",u.source,",",u.source,",",l.source,"\\)$"].join(n.source),"i"),HSB:new RegExp(["^hsb\\(",o.source,",",u.source,",",u.source,"\\)$"].join(n.source),"i"),HSBA:new RegExp(["^hsba\\(",o.source,",",u.source,",",u.source,",",l.source,"\\)$"].join(n.source),"i")};f.default.Color._parseInputs=function(t,e,r,i){var n,o=arguments.length,a=this.mode,s=this.maxes[a],l=[];if(3<=o){for(l[0]=t/s[0],l[1]=e/s[1],l[2]=r/s[2],l[3]="number"==typeof i?i/s[3]:1,n=l.length-1;0<=n;--n){var u=l[n];u<0?l[n]=0:1<u&&(l[n]=1)}return a===c.HSL?d.default._hslaToRGBA(l):a===c.HSB?d.default._hsbaToRGBA(l):l}if(1===o&&"string"==typeof t){var h=t.trim().toLowerCase();if(p[h])return f.default.Color._parseInputs.call(this,p[h]);if(m.HEX3.test(h))return(l=m.HEX3.exec(h).slice(1).map(function(t){return parseInt(t+t,16)/255}))[3]=1,l;if(m.HEX6.test(h))return(l=m.HEX6.exec(h).slice(1).map(function(t){return parseInt(t,16)/255}))[3]=1,l;if(m.HEX4.test(h))return l=m.HEX4.exec(h).slice(1).map(function(t){return parseInt(t+t,16)/255});if(m.HEX8.test(h))return l=m.HEX8.exec(h).slice(1).map(function(t){return parseInt(t,16)/255});if(m.RGB.test(h))return(l=m.RGB.exec(h).slice(1).map(function(t){return t/255}))[3]=1,l;if(m.RGB_PERCENT.test(h))return(l=m.RGB_PERCENT.exec(h).slice(1).map(function(t){return parseFloat(t)/100}))[3]=1,l;if(m.RGBA.test(h))return l=m.RGBA.exec(h).slice(1).map(function(t,e){return 3===e?parseFloat(t):t/255});if(m.RGBA_PERCENT.test(h))return l=m.RGBA_PERCENT.exec(h).slice(1).map(function(t,e){return 3===e?parseFloat(t):parseFloat(t)/100});if(m.HSL.test(h)?(l=m.HSL.exec(h).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100}))[3]=1:m.HSLA.test(h)&&(l=m.HSLA.exec(h).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100})),(l=l.map(function(t){return Math.max(Math.min(t,1),0)})).length)return d.default._hslaToRGBA(l);if(m.HSB.test(h)?(l=m.HSB.exec(h).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100}))[3]=1:m.HSBA.test(h)&&(l=m.HSBA.exec(h).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100})),l.length){for(n=l.length-1;0<=n;--n)l[n]=Math.max(Math.min(l[n],1),0);return d.default._hsbaToRGBA(l)}l=[1,1,1,1]}else{if(1!==o&&2!==o||"number"!=typeof t)throw new Error("".concat(arguments,"is not a valid color representation."));l[0]=t/s[2],l[1]=t/s[2],l[2]=t/s[2],l[3]="number"==typeof e?e/s[3]:1,l=l.map(function(t){return Math.max(Math.min(t,1),0)})}return l};var h=f.default.Color;r.default=h},{"../core/constants":31,"../core/main":38,"./color_conversion":27}],30:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("../core/main"))&&i.__esModule?i:{default:i},l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants"));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}t("./p5.Color"),s.default.prototype.background=function(){var t;return(t=this._renderer).background.apply(t,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear(),this},s.default.prototype.colorMode=function(t,e,r,i,n){if(s.default._validateParameters("colorMode",arguments),t===l.RGB||t===l.HSB||t===l.HSL){this._colorMode=t;var o=this._colorMaxes[t];2===arguments.length?(o[0]=e,o[1]=e,o[2]=e,o[3]=e):4===arguments.length?(o[0]=e,o[1]=r,o[2]=i):5===arguments.length&&(o[0]=e,o[1]=r,o[2]=i,o[3]=n)}return this},s.default.prototype.fill=function(){var t;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(t=this._renderer).fill.apply(t,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var t;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(t=this._renderer).stroke.apply(t,arguments),this},s.default.prototype.erase=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255;return this._renderer.erase(t,e),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var n=s.default;r.default=n},{"../core/constants":31,"../core/main":38,"./p5.Color":29}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FILL=r.STROKE=r.CURVE=r.BEZIER=r.QUADRATIC=r.LINEAR=r._CTX_MIDDLE=r._DEFAULT_LEADMULT=r._DEFAULT_TEXT_FILL=r.BOLDITALIC=r.BOLD=r.ITALIC=r.NORMAL=r.BLUR=r.ERODE=r.DILATE=r.POSTERIZE=r.INVERT=r.OPAQUE=r.GRAY=r.THRESHOLD=r.BURN=r.DODGE=r.SOFT_LIGHT=r.HARD_LIGHT=r.OVERLAY=r.REPLACE=r.SCREEN=r.MULTIPLY=r.EXCLUSION=r.SUBTRACT=r.DIFFERENCE=r.LIGHTEST=r.DARKEST=r.ADD=r.REMOVE=r.BLEND=r.UP_ARROW=r.TAB=r.SHIFT=r.RIGHT_ARROW=r.RETURN=r.OPTION=r.LEFT_ARROW=r.ESCAPE=r.ENTER=r.DOWN_ARROW=r.DELETE=r.CONTROL=r.BACKSPACE=r.ALT=r.AUTO=r.HSL=r.HSB=r.RGB=r.MITER=r.BEVEL=r.ROUND=r.SQUARE=r.PROJECT=r.PIE=r.CHORD=r.OPEN=r.CLOSE=r.TESS=r.QUAD_STRIP=r.QUADS=r.TRIANGLE_STRIP=r.TRIANGLE_FAN=r.TRIANGLES=r.LINE_LOOP=r.LINE_STRIP=r.LINES=r.POINTS=r.BASELINE=r.BOTTOM=r.TOP=r.CENTER=r.LEFT=r.RIGHT=r.RADIUS=r.CORNERS=r.CORNER=r.RAD_TO_DEG=r.DEG_TO_RAD=r.RADIANS=r.DEGREES=r.TWO_PI=r.TAU=r.QUARTER_PI=r.PI=r.HALF_PI=r.WAIT=r.TEXT=r.MOVE=r.HAND=r.CROSS=r.ARROW=r.WEBGL=r.P2D=void 0,r.AXES=r.GRID=r._DEFAULT_FILL=r._DEFAULT_STROKE=r.PORTRAIT=r.LANDSCAPE=r.MIRROR=r.CLAMP=r.REPEAT=r.NEAREST=r.IMAGE=r.IMMEDIATE=r.TEXTURE=void 0;var i=Math.PI;r.P2D="p2d";r.WEBGL="webgl";r.ARROW="default";r.CROSS="crosshair";r.HAND="pointer";r.MOVE="move";r.TEXT="text";r.WAIT="wait";var n=i/2;r.HALF_PI=n;var o=i;r.PI=o;var a=i/4;r.QUARTER_PI=a;var s=2*i;r.TAU=s;var l=2*i;r.TWO_PI=l;r.DEGREES="degrees";r.RADIANS="radians";var u=i/180;r.DEG_TO_RAD=u;var h=180/i;r.RAD_TO_DEG=h;r.CORNER="corner";r.CORNERS="corners";r.RADIUS="radius";r.RIGHT="right";r.LEFT="left";r.CENTER="center";r.TOP="top";r.BOTTOM="bottom";r.BASELINE="alphabetic";r.POINTS=0;r.LINES=1;r.LINE_STRIP=3;r.LINE_LOOP=2;r.TRIANGLES=4;r.TRIANGLE_FAN=6;r.TRIANGLE_STRIP=5;r.QUADS="quads";r.QUAD_STRIP="quad_strip";r.TESS="tess";r.CLOSE="close";r.OPEN="open";r.CHORD="chord";r.PIE="pie";r.PROJECT="square";r.SQUARE="butt";r.ROUND="round";r.BEVEL="bevel";r.MITER="miter";r.RGB="rgb";r.HSB="hsb";r.HSL="hsl";r.AUTO="auto";r.ALT=18;r.BACKSPACE=8;r.CONTROL=17;r.DELETE=46;r.DOWN_ARROW=40;r.ENTER=13;r.ESCAPE=27;r.LEFT_ARROW=37;r.OPTION=18;r.RETURN=13;r.RIGHT_ARROW=39;r.SHIFT=16;r.TAB=9;r.UP_ARROW=38;r.BLEND="source-over";r.REMOVE="destination-out";r.ADD="lighter";r.DARKEST="darken";r.LIGHTEST="lighten";r.DIFFERENCE="difference";r.SUBTRACT="subtract";r.EXCLUSION="exclusion";r.MULTIPLY="multiply";r.SCREEN="screen";r.REPLACE="copy";r.OVERLAY="overlay";r.HARD_LIGHT="hard-light";r.SOFT_LIGHT="soft-light";r.DODGE="color-dodge";r.BURN="color-burn";r.THRESHOLD="threshold";r.GRAY="gray";r.OPAQUE="opaque";r.INVERT="invert";r.POSTERIZE="posterize";r.DILATE="dilate";r.ERODE="erode";r.BLUR="blur";r.NORMAL="normal";r.ITALIC="italic";r.BOLD="bold";r.BOLDITALIC="bold italic";r._DEFAULT_TEXT_FILL="#000000";r._DEFAULT_LEADMULT=1.25;r._CTX_MIDDLE="middle";r.LINEAR="linear";r.QUADRATIC="quadratic";r.BEZIER="bezier";r.CURVE="curve";r.STROKE="stroke";r.FILL="fill";r.TEXTURE="texture";r.IMMEDIATE="immediate";r.IMAGE="image";r.NEAREST="nearest";r.REPEAT="repeat";r.CLAMP="clamp";r.MIRROR="mirror";r.LANDSCAPE="landscape";r.PORTRAIT="portrait";r._DEFAULT_STROKE="#000000";r._DEFAULT_FILL="#FFFFFF";r.GRID="grid";r.AXES="axes"},{}],32:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("./constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}var l=[o.ARROW,o.CROSS,o.HAND,o.MOVE,o.TEXT,o.WAIT];n.default.prototype._frameRate=0,n.default.prototype._lastFrameTime=window.performance.now(),n.default.prototype._targetFrameRate=60;var u=window.print;function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}n.default.prototype.print=function(){var t;arguments.length?(t=console).log.apply(t,arguments):u()},n.default.prototype.frameCount=0,n.default.prototype.deltaTime=0,n.default.prototype.focused=document.hasFocus(),n.default.prototype.cursor=function(t,e,r){var i="auto",n=this._curElement.elt;if(l.includes(t))i=t;else if("string"==typeof t){var o="";e&&r&&"number"==typeof e&&"number"==typeof r&&(o="".concat(e," ").concat(r)),i="http://"===t.substring(0,7)||"https://"===t.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?"url(".concat(t,") ").concat(o,", auto"):t}n.style.cursor=i},n.default.prototype.frameRate=function(t){return n.default._validateParameters("frameRate",arguments),"number"!=typeof t||t<0?this._frameRate:(this._setProperty("_targetFrameRate",t),0===t&&this._setProperty("_frameRate",t),this)},n.default.prototype.getFrameRate=function(){return this.frameRate()},n.default.prototype.setFrameRate=function(t){return this.frameRate(t)},n.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},n.default.prototype.displayWidth=screen.width,n.default.prototype.displayHeight=screen.height,n.default.prototype.windowWidth=h(),n.default.prototype.windowHeight=f(),n.default.prototype._onresize=function(t){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",f());var e,r=this._isGlobal?window:this;"function"==typeof r.windowResized&&(void 0===(e=r.windowResized(t))||e||t.preventDefault())},n.default.prototype.width=0,n.default.prototype.height=0,n.default.prototype.fullscreen=function(t){if(n.default._validateParameters("fullscreen",arguments),void 0===t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t?function(t){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},n.default.prototype.pixelDensity=function(t){var e;return n.default._validateParameters("pixelDensity",arguments),"number"==typeof t?(t!==this._pixelDensity&&(this._pixelDensity=t),(e=this).resizeCanvas(this.width,this.height,!0)):e=this._pixelDensity,e},n.default.prototype.displayDensity=function(){return window.devicePixelRatio},n.default.prototype.getURL=function(){return location.href},n.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(t){return""!==t})},n.default.prototype.getURLParams=function(){for(var t,e=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(t=e.exec(location.search));)t.index===e.lastIndex&&e.lastIndex++,r[t[1]]=t[2];return r};var c=n.default;r.default=c},{"./constants":31,"./main":38}],33:[function(r,t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,n=(i=r("./main"))&&i.__esModule?i:{default:i};(function(t){if(t&&t.__esModule)return;if(null===t||"object"!==s(t)&&"function"!=typeof t)return;var e=a();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r)})(r("./constants")),r("./internationalization");function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.default._validateParameters=n.default._friendlyFileLoadError=n.default._friendlyError=function(){};function o(){function t(r){return Object.getOwnPropertyNames(r).filter(function(t){return"_"!==t[0]&&(!(t in e)&&(e[t]=!0))}).map(function(t){var e;return e="function"==typeof r[t]?"function":t===t.toUpperCase()?"constant":"variable",{name:t,type:e}})}var e={};(u=[].concat(t(n.default.prototype),t(r("./constants")))).sort(function(t,e){return e.name.length-t.name.length})}function l(r,i){i=i||console.log.bind(console),u||o(),u.some(function(t){if(r.message&&null!==r.message.match("\\W?".concat(t.name,"\\W"))){var e="function"===t.type?"".concat(t.name,"()"):t.name;return i("Did you just try to use p5.js's ".concat(e," ").concat(t.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(h)),!0}})}var u=null,h="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";n.default.prototype._helpForMisusedAtTopLevelCode=l,"complete"!==document.readyState&&(window.addEventListener("error",l,!1),window.addEventListener("load",function(){window.removeEventListener("error",l,!1)}));var f=n.default;e.default=f},{"../../docs/reference/data.json":void 0,"./constants":31,"./internationalization":36,"./main":38}],34:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("./constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}var i={modeAdjust:function(t,e,r,i,n){return n===o.CORNER?{x:t,y:e,w:r,h:i}:n===o.CORNERS?{x:t,y:e,w:r-t,h:i-e}:n===o.RADIUS?{x:t-r,y:e-i,w:2*r,h:2*i}:n===o.CENTER?{x:t-.5*r,y:e-.5*i,w:r,h:i}:void 0}};r.default=i},{"./constants":31}],35:[function(t,e,r){"use strict";var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};t("./internationalization");var o=Promise.resolve();Promise.all([new Promise(function(t,e){"complete"===document.readyState?t():window.addEventListener("load",t,!1)}),o]).then(function(){void 0===window._setupDone?window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!n.default.instance&&new n.default:console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")})},{"../core/main":38,"./internationalization":36}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initialize=i.translator=void 0;var n=r(t("i18next")),o=r(t("i18next-browser-languagedetector")),a=r(t("../../translations"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){return console.debug("p5.js translator called before translations were loaded"),""};i.translator=s;i.initialize=function(){return new Promise(function(e,r){n.default.use(o.default).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",interpolation:{escapeValue:!1},detection:{checkWhitelist:!1},resources:a.default}).then(function(t){i.translator=s=t,e()},function(t){return r("Translations failed to load (".concat(t,")"))})})}},{"../../translations":70,i18next:22,"i18next-browser-languagedetector":21}],37:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var o=n.default;r.default=o},{"./main":38}],38:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,t("./shim");var i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("./constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function y(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function g(t,e,r){var u=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=e,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var i,n=y(Object.getOwnPropertyNames(g.prototype._registeredMethods));try{for(n.s();!(i=n.n()).done;){var o=i.value;this._registeredMethods[o]=g.prototype._registeredMethods[o].slice()}}catch(t){n.e(t)}finally{n.f()}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){u._userNode&&"string"==typeof u._userNode&&(u._userNode=document.getElementById(u._userNode));var t=(u._isGlobal?window:u).preload;if(t){var e=document.getElementById(u._loadingScreenId);if(!e)(e=document.createElement("div")).innerHTML="Loading...",e.style.position="absolute",e.id=u._loadingScreenId,(u._userNode||document.body).appendChild(e);var r=u._preloadMethods;for(var i in r){r[i]=r[i]||g;var n=r[i];n!==g.prototype&&n!==g||(u._isGlobal&&(window[i]=u._wrapPreload(u,i)),n=u),u._registeredPreloadMethods[i]=n[i],n[i]=u._wrapPreload(n,i)}t(),u._runIfPreloadsAreDone()}else u._setup(),u._draw()},this._runIfPreloadsAreDone=function(){var t=this._isGlobal?window:this;if(0===t._preloadCount){var e=document.getElementById(t._loadingScreenId);e&&e.parentNode.removeChild(e),this._lastFrameTime=window.performance.now(),t._setup(),t._draw()}},this._decrementPreload=function(){var t=this._isGlobal?window:this;"function"==typeof t.preload&&(t._setProperty("_preloadCount",t._preloadCount-1),t._runIfPreloadsAreDone())},this._wrapPreload=function(i,n){var o=this;return function(){o._incrementPreload();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return o._registeredPreloadMethods[n].apply(i,e)}},this._incrementPreload=function(){var t=this._isGlobal?window:this;t._setProperty("_preloadCount",t._preloadCount+1)},this._setup=function(){u.createCanvas(u._defaultCanvasSize.width,u._defaultCanvasSize.height,"p2d");var t=u._isGlobal?window:u;if("function"==typeof t.preload)for(var e in u._preloadMethods)t[e]=u._preloadMethods[e][e],t[e]&&u&&(t[e]=t[e].bind(u));u._millisStart=window.performance.now(),"function"==typeof t.setup&&t.setup();var r,i=y(document.getElementsByTagName("canvas"));try{for(i.s();!(r=i.n()).done;){var n=r.value;"true"===n.dataset.hidden&&(n.style.visibility="",delete n.dataset.hidden)}}catch(t){i.e(t)}finally{i.f()}u._lastFrameTime=window.performance.now(),u._setupDone=!0},this._draw=function(){var t=window.performance.now(),e=t-u._lastFrameTime,r=1e3/u._targetFrameRate;(!u._loop||r-5<=e)&&(u.redraw(),u._frameRate=1e3/(t-u._lastFrameTime),u.deltaTime=t-u._lastFrameTime,u._setProperty("deltaTime",u.deltaTime),u._lastFrameTime=t,void 0!==u._updateMouseCoords&&(u._updateMouseCoords(),u._setProperty("movedX",0),u._setProperty("movedY",0))),u._loop&&(u._requestAnimId=window.requestAnimationFrame(u._draw))},this._setProperty=function(t,e){u[t]=e,u._isGlobal&&(window[t]=e)},this.remove=function(){var t=document.getElementById(u._loadingScreenId);if(t&&(t.parentNode.removeChild(t),u._incrementPreload()),u._curElement){for(var e in u._loop=!1,u._requestAnimId&&window.cancelAnimationFrame(u._requestAnimId),u._events)window.removeEventListener(e,u._events[e]);var r,i=y(u._elements);try{for(i.s();!(r=i.n()).done;){var n=r.value;for(var o in n.elt&&n.elt.parentNode&&n.elt.parentNode.removeChild(n.elt),n._events)n.elt.removeEventListener(o,n._events[o])}}catch(t){i.e(t)}finally{i.f()}var a=u;u._registeredMethods.remove.forEach(function(t){void 0!==t&&t.call(a)})}if(u._isGlobal){for(var s in g.prototype)try{delete window[s]}catch(t){window[s]=void 0}for(var l in u)if(u.hasOwnProperty(l))try{delete window[l]}catch(t){window[l]=void 0}g.instance=null}},this._registeredMethods.init.forEach(function(t){void 0!==t&&t.call(this)},this),this._setupPromisePreloads();var a=this._createFriendlyGlobalFunctionBinder();if(t)t(this);else{for(var s in this._isGlobal=!0,g.instance=this,g.prototype)if("function"==typeof g.prototype[s]){var l=s.substring(2);this._events.hasOwnProperty(l)||(Math.hasOwnProperty(s)&&Math[s]===g.prototype[s]?a(s,g.prototype[s]):a(s,g.prototype[s].bind(this)))}else a(s,g.prototype[s]);for(var h in this)this.hasOwnProperty(h)&&a(h,this[h])}for(var f in this._events){var c=this["_on".concat(f)];if(c){var d=c.bind(this);window.addEventListener(f,d,{passive:!1}),this._events[f]=d}}function p(){u._setProperty("focused",!0)}function m(){u._setProperty("focused",!1)}window.addEventListener("focus",p),window.addEventListener("blur",m),this.registerMethod("remove",function(){window.removeEventListener("focus",p),window.removeEventListener("blur",m)}),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var t,e,r;return t=g,(e=[{key:"_initializeInstanceVariables",value:function(){this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=i.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(t,e){g.prototype._preloadMethods.hasOwnProperty(t)||(g.prototype._preloadMethods[t]=e)}},{key:"registerMethod",value:function(t,e){var r=this||g.prototype;r._registeredMethods.hasOwnProperty(t)||(r._registeredMethods[t]=[]),r._registeredMethods[t].push(e)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},r=e.globalObject||window;e.log||console.log.bind(console);return function(t,e){r[t]=e}}}])&&n(t.prototype,e),r&&n(t,r),g}();for(var u in o.instance=null,o.disableFriendlyErrors=!1,i)o.prototype[u]=i[u];o.prototype._preloadMethods={loadJSON:o.prototype,loadImage:o.prototype,loadStrings:o.prototype,loadXML:o.prototype,loadBytes:o.prototype,loadTable:o.prototype,loadFont:o.prototype,loadModel:o.prototype,loadShader:o.prototype},o.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},o.prototype._registeredPreloadMethods={};var h=o;r.default=h},{"./constants":31,"./shim":49}],39:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.Element=function(t,e){this.elt=t,this._pInst=this._pixelsState=e,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},n.default.Element.prototype.parent=function(t){return void 0===t?this.elt.parentNode:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof n.default.Element&&(t=t.elt),t.appendChild(this.elt),this)},n.default.Element.prototype.id=function(t){return void 0===t?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},n.default.Element.prototype.class=function(t){return void 0===t?this.elt.className:(this.elt.className=t,this)},n.default.Element.prototype.mousePressed=function(e){return n.default.Element._adjustListener("mousedown",function(t){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(t),e.call(this)},this),this},n.default.Element.prototype.doubleClicked=function(t){return n.default.Element._adjustListener("dblclick",t,this),this},n.default.Element.prototype.mouseWheel=function(t){return n.default.Element._adjustListener("wheel",t,this),this},n.default.Element.prototype.mouseReleased=function(t){return n.default.Element._adjustListener("mouseup",t,this),this},n.default.Element.prototype.mouseClicked=function(t){return n.default.Element._adjustListener("click",t,this),this},n.default.Element.prototype.mouseMoved=function(t){return n.default.Element._adjustListener("mousemove",t,this),this},n.default.Element.prototype.mouseOver=function(t){return n.default.Element._adjustListener("mouseover",t,this),this},n.default.Element.prototype.mouseOut=function(t){return n.default.Element._adjustListener("mouseout",t,this),this},n.default.Element.prototype.touchStarted=function(t){return n.default.Element._adjustListener("touchstart",t,this),this},n.default.Element.prototype.touchMoved=function(t){return n.default.Element._adjustListener("touchmove",t,this),this},n.default.Element.prototype.touchEnded=function(t){return n.default.Element._adjustListener("touchend",t,this),this},n.default.Element.prototype.dragOver=function(t){return n.default.Element._adjustListener("dragover",t,this),this},n.default.Element.prototype.dragLeave=function(t){return n.default.Element._adjustListener("dragleave",t,this),this},n.default.Element._adjustListener=function(t,e,r){return!1===e?n.default.Element._detachListener(t,r):n.default.Element._attachListener(t,e,r),this},n.default.Element._attachListener=function(t,e,r){r._events[t]&&n.default.Element._detachListener(t,r);var i=e.bind(r);r.elt.addEventListener(t,i,!1),r._events[t]=i},n.default.Element._detachListener=function(t,e){var r=e._events[t];e.elt.removeEventListener(t,r,!1),e._events[t]=null},n.default.Element.prototype._setProperty=function(t,e){this[t]=e};var o=n.default.Element;r.default=o},{"./main":38}],40:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("./main"))&&i.__esModule?i:{default:i},l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("./constants"));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}s.default.Graphics=function(t,e,r,i){var n=r||l.P2D;this.canvas=document.createElement("canvas");var o=i._userNode||document.body;for(var a in o.appendChild(this.canvas),s.default.Element.call(this,this.canvas,i),s.default.prototype)this[a]||("function"==typeof s.default.prototype[a]?this[a]=s.default.prototype[a].bind(this):this[a]=s.default.prototype[a]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=t,this.height=e,this._pixelDensity=i._pixelDensity,n===l.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),i._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(t,e),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var t=this._pInst._elements.indexOf(this);for(var e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])};var n=s.default.Graphics;r.default=n},{"./constants":31,"./main":38}],41:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,l=(i=t("./main"))&&i.__esModule?i:{default:i},v=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){var e=0,r=0;if(t.offsetParent)for(;e+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;);else e+=t.offsetLeft,r+=t.offsetTop;return[e,r]}l.default.Renderer=function(t,e,r){l.default.Element.call(this,t,e),this.canvas=t,this._pixelsState=e,r?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=v.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=v.LEFT,this._textBaseline=v.BASELINE,this._rectMode=v.CORNER,this._ellipseMode=v.CENTER,this._curveTightness=0,this._imageMode=v.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},l.default.Renderer.prototype=Object.create(l.default.Element.prototype),l.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},l.default.Renderer.prototype.pop=function(t){t.properties&&Object.assign(this,t.properties)},l.default.Renderer.prototype.resize=function(t,e){this.width=t,this.height=e,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=e*this._pInst._pixelDensity,this.elt.style.width="".concat(t,"px"),this.elt.style.height="".concat(e,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},l.default.Renderer.prototype.get=function(t,e,r,i){var n=this._pixelsState,o=n._pixelDensity,a=this.canvas;if(void 0===t&&void 0===e)t=e=0,r=n.width,i=n.height;else if(t*=o,e*=o,void 0===r&&void 0===i)return t<0||e<0||t>=a.width||e>=a.height?[0,0,0,0]:this._getPixel(t,e);var s=new l.default.Image(r,i);return s.canvas.getContext("2d").drawImage(a,t,e,r*o,i*o,0,0,r,i),s},l.default.Renderer.prototype.textLeading=function(t){return"number"==typeof t?(this._setProperty("_textLeading",t),this._pInst):this._textLeading},l.default.Renderer.prototype.textSize=function(t){return"number"==typeof t?(this._setProperty("_textSize",t),this._setProperty("_textLeading",t*v._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},l.default.Renderer.prototype.textStyle=function(t){return t?(t!==v.NORMAL&&t!==v.ITALIC&&t!==v.BOLD&&t!==v.BOLDITALIC||this._setProperty("_textStyle",t),this._applyTextProperties()):this._textStyle},l.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},l.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},l.default.Renderer.prototype.textAlign=function(t,e){return void 0!==t?(this._setProperty("_textAlign",t),void 0!==e&&this._setProperty("_textBaseline",e),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},l.default.Renderer.prototype.text=function(t,e,r,i,n){var o,a,s,l,u,h,f,c,d=this._pInst,p=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==t){if("string"!=typeof t&&(t=t.toString()),o=(t=t.replace(/(\t)/g,"  ")).split("\n"),void 0!==i){for(s=c=0;s<o.length;s++)for(u="",f=o[s].split(" "),a=0;a<f.length;a++)h="".concat(u+f[a]," "),i<this.textWidth(h)?(u="".concat(f[a]," "),c+=d.textLeading()):u=h;switch(this._rectMode===v.CENTER&&(e-=i/2,r-=n/2),this._textAlign){case v.CENTER:e+=i/2;break;case v.RIGHT:e+=i}var m=!1;if(void 0!==n){switch(this._textBaseline){case v.BOTTOM:r+=n-c;break;case v.CENTER:r+=(n-c)/2;break;case v.BASELINE:m=!0,this._textBaseline=v.TOP}p=r+n-d.textAscent()}for(s=0;s<o.length;s++){for(u="",f=o[s].split(" "),a=0;a<f.length;a++)h="".concat(u+f[a]," "),i<this.textWidth(h)&&0<u.length?(this._renderText(d,u,e,r,p),u="".concat(f[a]," "),r+=d.textLeading()):u=h;this._renderText(d,u,e,r,p),r+=d.textLeading(),m&&(this._textBaseline=v.BASELINE)}}else{var g=0,y=d.textAlign().vertical;for(y===v.CENTER?g=(o.length-1)*d.textLeading()/2:y===v.BOTTOM&&(g=(o.length-1)*d.textLeading()),l=0;l<o.length;l++)this._renderText(d,o[l],e,r-g,p),r+=d.textLeading()}return d}},l.default.Renderer.prototype._applyDefaults=function(){return this},l.default.Renderer.prototype._isOpenType=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===s(t)&&t.font&&t.font.supported},l.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var t=document.createElement("span");t.style.fontFamily=this._textFont,t.style.fontSize="".concat(this._textSize,"px"),t.innerHTML="ABCjgq|";var e=document.createElement("div");e.style.display="inline-block",e.style.width="1px",e.style.height="0px";var r=document.createElement("div");r.appendChild(t),r.appendChild(e),r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r),e.style.verticalAlign="baseline";var i=u(e),n=u(t),o=i[1]-n[1];e.style.verticalAlign="bottom",i=u(e),n=u(t);var a=i[1]-n[1]-o;return document.body.removeChild(r),this._setProperty("_textAscent",o),this._setProperty("_textDescent",a),this};var n=l.default.Renderer;r.default=n},{"../core/constants":31,"./main":38}],42:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var f=i(t("./main")),p=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("./constants")),c=i(t("../image/filters"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function i(t){return t&&t.__esModule?t:{default:t}}t("./p5.Renderer");var g="rgba(0,0,0,0)";f.default.Renderer2D=function(t,e,r){return f.default.Renderer.call(this,t,e,r),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},f.default.Renderer2D.prototype=Object.create(f.default.Renderer.prototype),f.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=p.BLEND,this._setFill(p._DEFAULT_FILL),this._setStroke(p._DEFAULT_STROKE),this.drawingContext.lineCap=p.ROUND,this.drawingContext.font="normal 12px sans-serif"},f.default.Renderer2D.prototype.resize=function(t,e){f.default.Renderer.prototype.resize.call(this,t,e),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},f.default.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof f.default.Image)this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height);else{var t,e=this._getFill(),r=(t=this._pInst).color.apply(t,arguments).toString();this._setFill(r),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e),this._isErasing&&this._pInst.erase()}this.drawingContext.restore()},f.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},f.default.Renderer2D.prototype.fill=function(){var t,e=(t=this._pInst).color.apply(t,arguments);this._setFill(e.toString())},f.default.Renderer2D.prototype.stroke=function(){var t,e=(t=this._pInst).color.apply(t,arguments);this._setStroke(e.toString())},f.default.Renderer2D.prototype.erase=function(t,e){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var r=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=r,this._cachedStrokeStyle=this.drawingContext.strokeStyle;var i=this._pInst.color(255,e).toString();this.drawingContext.strokeStyle=i;var n=this._cachedBlendMode;this.blendMode(p.REMOVE),this._cachedBlendMode=n,this._isErasing=!0}},f.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},f.default.Renderer2D.prototype.image=function(t,e,r,i,n,o,a,s,l){var u;t.gifProperties&&t._animateGif(this._pInst);try{this._tint&&(f.default.MediaElement&&t instanceof f.default.MediaElement&&t.loadPixels(),t.canvas&&(u=this._getTintedImageCanvas(t))),u=u||(t.canvas||t.elt);var h=1;t.width&&0<t.width&&(h=u.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(u,h*e,h*r,h*i,h*n,o,a,s,l),this._isErasing&&this._pInst.erase()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t}},f.default.Renderer2D.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=c.default._toPixels(t.canvas),r=document.createElement("canvas");r.width=t.canvas.width,r.height=t.canvas.height;for(var i=r.getContext("2d"),n=i.createImageData(t.canvas.width,t.canvas.height),o=n.data,a=0;a<e.length;a+=4){var s=e[a],l=e[a+1],u=e[a+2],h=e[a+3];o[a]=s*this._tint[0]/255,o[a+1]=l*this._tint[1]/255,o[a+2]=u*this._tint[2]/255,o[a+3]=h*this._tint[3]/255}return i.putImageData(n,0,0),r},f.default.Renderer2D.prototype.blendMode=function(t){if(t===p.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(t!==p.BLEND&&t!==p.REMOVE&&t!==p.DARKEST&&t!==p.LIGHTEST&&t!==p.DIFFERENCE&&t!==p.MULTIPLY&&t!==p.EXCLUSION&&t!==p.SCREEN&&t!==p.REPLACE&&t!==p.OVERLAY&&t!==p.HARD_LIGHT&&t!==p.SOFT_LIGHT&&t!==p.DODGE&&t!==p.BURN&&t!==p.ADD)throw new Error("Mode ".concat(t," not recognized."));this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t}},f.default.Renderer2D.prototype.blend=function(){for(var t=this.drawingContext.globalCompositeOperation,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var n=r[r.length-1],o=Array.prototype.slice.call(r,0,r.length-1);this.drawingContext.globalCompositeOperation=n,f.default.prototype.copy.apply(this,o),this.drawingContext.globalCompositeOperation=t},f.default.Renderer2D.prototype._getPixel=function(t,e){var r;return[(r=this.drawingContext.getImageData(t,e,1,1).data)[0],r[1],r[2],r[3]]},f.default.Renderer2D.prototype.loadPixels=function(){var t=this._pixelsState,e=t._pixelDensity,r=this.width*e,i=this.height*e,n=this.drawingContext.getImageData(0,0,r,i);t._setProperty("imageData",n),t._setProperty("pixels",n.data)},f.default.Renderer2D.prototype.set=function(t,e,r){t=Math.floor(t),e=Math.floor(e);var i=this._pixelsState;if(r instanceof f.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(i._pixelDensity,i._pixelDensity),this.drawingContext.drawImage(r.canvas,t,e),this.drawingContext.restore();else{var n=0,o=0,a=0,s=0,l=4*(e*i._pixelDensity*(this.width*i._pixelDensity)+t*i._pixelDensity);if(i.imageData||i.loadPixels.call(i),"number"==typeof r)l<i.pixels.length&&(a=o=n=r,s=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");l<i.pixels.length&&(n=r[0],o=r[1],a=r[2],s=r[3])}else r instanceof f.default.Color&&l<i.pixels.length&&(n=r.levels[0],o=r.levels[1],a=r.levels[2],s=r.levels[3]);for(var u=0;u<i._pixelDensity;u++)for(var h=0;h<i._pixelDensity;h++)l=4*((e*i._pixelDensity+h)*this.width*i._pixelDensity+(t*i._pixelDensity+u)),i.pixels[l]=n,i.pixels[l+1]=o,i.pixels[l+2]=a,i.pixels[l+3]=s}},f.default.Renderer2D.prototype.updatePixels=function(t,e,r,i){var n=this._pixelsState,o=n._pixelDensity;void 0===t&&void 0===e&&void 0===r&&void 0===i&&(e=t=0,r=this.width,i=this.height),t*=o,e*=o,r*=o,i*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=n.imageData),this.drawingContext.putImageData(n.imageData,t,e,0,0,r,i)},f.default.Renderer2D.prototype._acuteArcToBezier=function(t,e){var r=e/2,i=Math.cos(r),n=Math.sin(r),o=1/Math.tan(r),a=t+r,s=Math.cos(a),l=Math.sin(a),u=(4-i)/3,h=n+(i-u)*o;return{ax:Math.cos(t).toFixed(7),ay:Math.sin(t).toFixed(7),bx:(u*s+h*l).toFixed(7),by:(u*l-h*s).toFixed(7),cx:(u*s-h*l).toFixed(7),cy:(u*l+h*s).toFixed(7),dx:Math.cos(t+e).toFixed(7),dy:Math.sin(t+e).toFixed(7)}},f.default.Renderer2D.prototype.arc=function(r,i,t,e,n,o,a){var s=this.drawingContext,l=t/2,u=e/2,h=0,f=[];for(r+=l,i+=u;1e-5<=o-n;)h=Math.min(o-n,p.HALF_PI),f.push(this._acuteArcToBezier(n,h)),n+=h;return this._doFill&&(s.beginPath(),f.forEach(function(t,e){0===e&&s.moveTo(r+t.ax*l,i+t.ay*u),s.bezierCurveTo(r+t.bx*l,i+t.by*u,r+t.cx*l,i+t.cy*u,r+t.dx*l,i+t.dy*u)}),a!==p.PIE&&null!=a||s.lineTo(r,i),s.closePath(),s.fill()),this._doStroke&&(s.beginPath(),f.forEach(function(t,e){0===e&&s.moveTo(r+t.ax*l,i+t.ay*u),s.bezierCurveTo(r+t.bx*l,i+t.by*u,r+t.cx*l,i+t.cy*u,r+t.dx*l,i+t.dy*u)}),a===p.PIE?(s.lineTo(r,i),s.closePath()):a===p.CHORD&&s.closePath(),s.stroke()),this},f.default.Renderer2D.prototype.ellipse=function(t){var e=this.drawingContext,r=this._doFill,i=this._doStroke,n=parseFloat(t[0]),o=parseFloat(t[1]),a=parseFloat(t[2]),s=parseFloat(t[3]);if(r&&!i){if(this._getFill()===g)return this}else if(!r&&i&&this._getStroke()===g)return this;var l=.5522847498,u=a/2*l,h=s/2*l,f=n+a,c=o+s,d=n+a/2,p=o+s/2;e.beginPath(),e.moveTo(n,p),e.bezierCurveTo(n,p-h,d-u,o,d,o),e.bezierCurveTo(d+u,o,f,p-h,f,p),e.bezierCurveTo(f,p+h,d+u,c,d,c),e.bezierCurveTo(d-u,c,n,p+h,n,p),e.closePath(),r&&e.fill(),i&&e.stroke()},f.default.Renderer2D.prototype.line=function(t,e,r,i){var n=this.drawingContext;return this._doStroke&&(this._getStroke()===g||(n.beginPath(),n.moveTo(t,e),n.lineTo(r,i),n.stroke())),this},f.default.Renderer2D.prototype.point=function(t,e){var r=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===g)return this;var i=this._getStroke(),n=this._getFill();t=Math.round(t),e=Math.round(e),this._setFill(i),1<r.lineWidth?(r.beginPath(),r.arc(t,e,r.lineWidth/2,0,p.TWO_PI,!1),r.fill()):r.fillRect(t,e,1,1),this._setFill(n)},f.default.Renderer2D.prototype.quad=function(t,e,r,i,n,o,a,s){var l=this.drawingContext,u=this._doFill,h=this._doStroke;if(u&&!h){if(this._getFill()===g)return this}else if(!u&&h&&this._getStroke()===g)return this;return l.beginPath(),l.moveTo(t,e),l.lineTo(r,i),l.lineTo(n,o),l.lineTo(a,s),l.closePath(),u&&l.fill(),h&&l.stroke(),this},f.default.Renderer2D.prototype.rect=function(t){var e=t[0],r=t[1],i=t[2],n=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=this.drawingContext,h=this._doFill,f=this._doStroke;if(h&&!f){if(this._getFill()===g)return this}else if(!h&&f&&this._getStroke()===g)return this;if(u.beginPath(),void 0===o)u.rect(e,r,i,n);else{void 0===a&&(a=o),void 0===s&&(s=a),void 0===l&&(l=s);var c=Math.abs(i),d=Math.abs(n),p=c/2,m=d/2;c<2*o&&(o=p),d<2*o&&(o=m),c<2*a&&(a=p),d<2*a&&(a=m),c<2*s&&(s=p),d<2*s&&(s=m),c<2*l&&(l=p),d<2*l&&(l=m),u.beginPath(),u.moveTo(e+o,r),u.arcTo(e+i,r,e+i,r+n,a),u.arcTo(e+i,r+n,e,r+n,s),u.arcTo(e,r+n,e,r,l),u.arcTo(e,r,e+i,r,o),u.closePath()}return this._doFill&&u.fill(),this._doStroke&&u.stroke(),this},f.default.Renderer2D.prototype.triangle=function(t){var e=this.drawingContext,r=this._doFill,i=this._doStroke,n=t[0],o=t[1],a=t[2],s=t[3],l=t[4],u=t[5];if(r&&!i){if(this._getFill()===g)return this}else if(!r&&i&&this._getStroke()===g)return this;e.beginPath(),e.moveTo(n,o),e.lineTo(a,s),e.lineTo(l,u),e.closePath(),r&&e.fill(),i&&e.stroke()},f.default.Renderer2D.prototype.endShape=function(t,e,r,i,n,o,a){if(0===e.length)return this;if(!this._doStroke&&!this._doFill)return this;var s,l,u,h=t===p.CLOSE;h&&!o&&e.push(e[0]);var f=e.length;if(!r||a!==p.POLYGON&&null!==a)if(!i||a!==p.POLYGON&&null!==a)if(!n||a!==p.POLYGON&&null!==a)if(a===p.POINTS)for(l=0;l<f;l++)s=e[l],this._doStroke&&this._pInst.stroke(s[6]),this._pInst.point(s[0],s[1]);else if(a===p.LINES)for(l=0;l+1<f;l+=2)s=e[l],this._doStroke&&this._pInst.stroke(e[l+1][6]),this._pInst.line(s[0],s[1],e[l+1][0],e[l+1][1]);else if(a===p.TRIANGLES)for(l=0;l+2<f;l+=3)s=e[l],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0],s[1]),this.drawingContext.lineTo(e[l+1][0],e[l+1][1]),this.drawingContext.lineTo(e[l+2][0],e[l+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(e[l+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(e[l+2][6]),this.drawingContext.stroke());else if(a===p.TRIANGLE_STRIP)for(l=0;l+1<f;l++)s=e[l],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[l+1][0],e[l+1][1]),this.drawingContext.lineTo(s[0],s[1]),this._doStroke&&this._pInst.stroke(e[l+1][6]),this._doFill&&this._pInst.fill(e[l+1][5]),l+2<f&&(this.drawingContext.lineTo(e[l+2][0],e[l+2][1]),this._doStroke&&this._pInst.stroke(e[l+2][6]),this._doFill&&this._pInst.fill(e[l+2][5])),this._doFillStrokeClose(h);else if(a===p.TRIANGLE_FAN){if(2<f){for(this.drawingContext.beginPath(),l=2;l<f;l++)s=e[l],this.drawingContext.moveTo(e[0][0],e[0][1]),this.drawingContext.lineTo(e[l-1][0],e[l-1][1]),this.drawingContext.lineTo(s[0],s[1]),this.drawingContext.lineTo(e[0][0],e[0][1]),l<f-1&&(this._doFill&&s[5]!==e[l+1][5]||this._doStroke&&s[6]!==e[l+1][6])&&(this._doFill&&(this._pInst.fill(s[5]),this.drawingContext.fill(),this._pInst.fill(e[l+1][5])),this._doStroke&&(this._pInst.stroke(s[6]),this.drawingContext.stroke(),this._pInst.stroke(e[l+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(h)}}else if(a===p.QUADS)for(l=0;l+3<f;l+=4){for(s=e[l],this.drawingContext.beginPath(),this.drawingContext.moveTo(s[0],s[1]),u=1;u<4;u++)this.drawingContext.lineTo(e[l+u][0],e[l+u][1]);this.drawingContext.lineTo(s[0],s[1]),this._doFill&&this._pInst.fill(e[l+3][5]),this._doStroke&&this._pInst.stroke(e[l+3][6]),this._doFillStrokeClose(h)}else if(a===p.QUAD_STRIP){if(3<f)for(l=0;l+1<f;l+=2)s=e[l],this.drawingContext.beginPath(),l+3<f?(this.drawingContext.moveTo(e[l+2][0],e[l+2][1]),this.drawingContext.lineTo(s[0],s[1]),this.drawingContext.lineTo(e[l+1][0],e[l+1][1]),this.drawingContext.lineTo(e[l+3][0],e[l+3][1]),this._doFill&&this._pInst.fill(e[l+3][5]),this._doStroke&&this._pInst.stroke(e[l+3][6])):(this.drawingContext.moveTo(s[0],s[1]),this.drawingContext.lineTo(e[l+1][0],e[l+1][1])),this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),l=1;l<f;l++)(s=e[l]).isVert&&(s.moveTo?this.drawingContext.moveTo(s[0],s[1]):this.drawingContext.lineTo(s[0],s[1]));this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),l=0;l<f;l++)e[l].isVert?e[l].moveTo?this.drawingContext.moveTo(e[l][0],e[l][1]):this.drawingContext.lineTo(e[l][0],e[l][1]):this.drawingContext.quadraticCurveTo(e[l][0],e[l][1],e[l][2],e[l][3]);this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),l=0;l<f;l++)e[l].isVert?e[l].moveTo?this.drawingContext.moveTo(e[l][0],e[l][1]):this.drawingContext.lineTo(e[l][0],e[l][1]):this.drawingContext.bezierCurveTo(e[l][0],e[l][1],e[l][2],e[l][3],e[l][4],e[l][5]);this._doFillStrokeClose(h)}else if(3<f){var c=[],d=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[1][0],e[1][1]),l=1;l+2<f;l++)s=e[l],c[0]=[s[0],s[1]],c[1]=[s[0]+(d*e[l+1][0]-d*e[l-1][0])/6,s[1]+(d*e[l+1][1]-d*e[l-1][1])/6],c[2]=[e[l+1][0]+(d*e[l][0]-d*e[l+2][0])/6,e[l+1][1]+(d*e[l][1]-d*e[l+2][1])/6],c[3]=[e[l+1][0],e[l+1][1]],this.drawingContext.bezierCurveTo(c[1][0],c[1][1],c[2][0],c[2][1],c[3][0],c[3][1]);h&&this.drawingContext.lineTo(e[l+1][0],e[l+1][1]),this._doFillStrokeClose(h)}return o=n=i=r=!1,h&&e.pop(),this},f.default.Renderer2D.prototype.strokeCap=function(t){return t!==p.ROUND&&t!==p.SQUARE&&t!==p.PROJECT||(this.drawingContext.lineCap=t),this},f.default.Renderer2D.prototype.strokeJoin=function(t){return t!==p.ROUND&&t!==p.BEVEL&&t!==p.MITER||(this.drawingContext.lineJoin=t),this},f.default.Renderer2D.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth=void 0===t||0===t?1e-4:t,this},f.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},f.default.Renderer2D.prototype._setFill=function(t){t!==this._cachedFillStyle&&(this.drawingContext.fillStyle=t,this._cachedFillStyle=t)},f.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},f.default.Renderer2D.prototype._setStroke=function(t){t!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this._cachedStrokeStyle=t)},f.default.Renderer2D.prototype.bezier=function(t,e,r,i,n,o,a,s){return this._pInst.beginShape(),this._pInst.vertex(t,e),this._pInst.bezierVertex(r,i,n,o,a,s),this._pInst.endShape(),this},f.default.Renderer2D.prototype.curve=function(t,e,r,i,n,o,a,s){return this._pInst.beginShape(),this._pInst.curveVertex(t,e),this._pInst.curveVertex(r,i),this._pInst.curveVertex(n,o),this._pInst.curveVertex(a,s),this._pInst.endShape(),this},f.default.Renderer2D.prototype._doFillStrokeClose=function(t){t&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},f.default.Renderer2D.prototype.applyMatrix=function(t,e,r,i,n,o){this.drawingContext.transform(t,e,r,i,n,o)},f.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},f.default.Renderer2D.prototype.rotate=function(t){this.drawingContext.rotate(t)},f.default.Renderer2D.prototype.scale=function(t,e){return this.drawingContext.scale(t,e),this},f.default.Renderer2D.prototype.translate=function(t,e){return t instanceof f.default.Vector&&(e=t.y,t=t.x),this.drawingContext.translate(t,e),this},f.default.Renderer2D.prototype.text=function(t,e,r,i,n){var o;void 0!==i&&this.drawingContext.textBaseline===p.BASELINE&&(o=!0,this.drawingContext.textBaseline=p.TOP);var a=f.default.Renderer.prototype.text.apply(this,arguments);return o&&(this.drawingContext.textBaseline=p.BASELINE),a},f.default.Renderer2D.prototype._renderText=function(t,e,r,i,n){if(!(n<=i))return t.push(),this._isOpenType()?this._textFont._renderPath(e,r,i,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(e,r,i),this._doFill&&(this._fillSet||this._setFill(p._DEFAULT_TEXT_FILL),this.drawingContext.fillText(e,r,i))),t.pop(),t},f.default.Renderer2D.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width},f.default.Renderer2D.prototype._applyTextProperties=function(){var t,e=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),t=this._textFont,this._isOpenType()&&(t=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(t||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===p.CENTER?this.drawingContext.textBaseline=p._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,e},f.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),f.default.Renderer.prototype.push.apply(this)},f.default.Renderer2D.prototype.pop=function(t){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,f.default.Renderer.prototype.pop.call(this,t)};var n=f.default.Renderer2D;r.default=n},{"../image/filters":53,"./constants":31,"./main":38,"./p5.Renderer":41}],43:[function(t,e,r){"use strict";var i,u=(i=t("./main"))&&i.__esModule?i:{default:i};function h(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}u.default.prototype._promisePreloads=[];var f=!(u.default.prototype.registerPromisePreload=function(t){u.default.prototype._promisePreloads.push(t)});u.default.prototype._setupPromisePreloads=function(){var t,e=h(this._promisePreloads);try{for(e.s();!(t=e.n()).done;){var r=t.value,i=this,n=r.method,o=r.addCallbacks,a=r.legacyPreloadSetup,s=r.target||this,l=s[n].bind(s);if(s===u.default.prototype){if(f)continue;i=null,l=s[n]}if(s[n]=this._wrapPromisePreload(i,l,o),a)s[a.method]=this._legacyPreloadGenerator(i,a,s[n])}}catch(t){e.e(t)}finally{e.f()}f=!0},u.default.prototype._wrapPromisePreload=function(t,l,u){var e=function(){var t=this;this._incrementPreload();for(var e=null,r=null,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];if(u)for(var a=n.length-1;0<=a&&!r&&"function"==typeof n[a];a--)r=e,e=n.pop();var s=Promise.resolve(l.apply(this,n));return e&&s.then(e),r&&s.catch(r),s.then(function(){return t._decrementPreload()}),s};return t&&(e=e.bind(t)),e};function o(){return{}}u.default.prototype._legacyPreloadGenerator=function(t,e,i){var n=e.createBaseObject||o,r=function(){var e=this;this._incrementPreload();var r=n.apply(this,arguments);return i.apply(this,arguments).then(function(t){Object.assign(r,t),e._decrementPreload()}),r};return t&&(r=r.bind(t)),r}},{"./main":38}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("./main"))&&i.__esModule?i:{default:i},l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("./constants"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var h="defaultCanvas0",f="p5Canvas";s.default.prototype.createCanvas=function(t,e,r){s.default._validateParameters("createCanvas",arguments);var i,n=r||l.P2D;if(n===l.WEBGL){if(i=document.getElementById(h)){i.parentNode.removeChild(i);var o=this._renderer;this._elements=this._elements.filter(function(t){return t!==o})}(i=document.createElement("canvas")).id=h,i.classList.add(f)}else if(this._defaultGraphicsCreated)i=this.canvas;else{i=document.createElement("canvas");for(var a=0;document.getElementById("defaultCanvas".concat(a));)a++;h="defaultCanvas".concat(a),i.id=h,i.classList.add(f)}return this._setupDone||(i.dataset.hidden=!0,i.style.visibility="hidden"),this._userNode?this._userNode.appendChild(i):document.body.appendChild(i),n===l.WEBGL?(this._setProperty("_renderer",new s.default.RendererGL(i,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new s.default.Renderer2D(i,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,e),this._renderer._applyDefaults(),this._renderer},s.default.prototype.resizeCanvas=function(t,e,r){if(s.default._validateParameters("resizeCanvas",arguments),this._renderer){var i={};for(var n in this.drawingContext){var o=this.drawingContext[n];"object"!==u(o)&&"function"!=typeof o&&(i[n]=o)}for(var a in this._renderer.resize(t,e),this.width=t,this.height=e,i)try{this.drawingContext[a]=i[a]}catch(t){}r||this.redraw()}},s.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},s.default.prototype.createGraphics=function(t,e,r){return s.default._validateParameters("createGraphics",arguments),new s.default.Graphics(t,e,r,this)},s.default.prototype.blendMode=function(t){s.default._validateParameters("blendMode",arguments),t===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),t=l.BLEND),this._renderer.blendMode(t)};var n=s.default;r.default=n},{"../webgl/p5.RendererGL":66,"./constants":31,"./main":38,"./p5.Graphics":40,"./p5.Renderer2D":42}],45:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var h=i(t("../main")),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../constants")),f=i(t("../helpers"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function i(t){return t&&t.__esModule?t:{default:t}}t("../error_helpers"),h.default.prototype._normalizeArcAngles=function(t,e,r,i,n){var o;return t-=s.TWO_PI*Math.floor(t/s.TWO_PI),e-=s.TWO_PI*Math.floor(e/s.TWO_PI),o=Math.min(Math.abs(t-e),s.TWO_PI-Math.abs(t-e)),n&&(t=t<=s.HALF_PI?Math.atan(r/i*Math.tan(t)):t>s.HALF_PI&&t<=3*s.HALF_PI?Math.atan(r/i*Math.tan(t))+s.PI:Math.atan(r/i*Math.tan(t))+s.TWO_PI,e=e<=s.HALF_PI?Math.atan(r/i*Math.tan(e)):e>s.HALF_PI&&e<=3*s.HALF_PI?Math.atan(r/i*Math.tan(e))+s.PI:Math.atan(r/i*Math.tan(e))+s.TWO_PI),e<t&&(e+=s.TWO_PI),{start:t,stop:e,correspondToSamePoint:o<1e-5}},h.default.prototype.arc=function(t,e,r,i,n,o,a,s){if(h.default._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;n=this._toRadians(n),o=this._toRadians(o),r=Math.abs(r),i=Math.abs(i);var l=f.default.modeAdjust(t,e,r,i,this._renderer._ellipseMode),u=this._normalizeArcAngles(n,o,l.w,l.h,!0);return u.correspondToSamePoint?this._renderer.ellipse([l.x,l.y,l.w,l.h,s]):this._renderer.arc(l.x,l.y,l.w,l.h,u.start,u.stop,a,s),this},h.default.prototype.ellipse=function(t,e,r,i,n){return h.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},h.default.prototype.circle=function(){h.default._validateParameters("circle",arguments);var t=Array.prototype.slice.call(arguments,0,2);return t.push(arguments[2]),t.push(arguments[2]),this._renderEllipse.apply(this,t)},h.default.prototype._renderEllipse=function(t,e,r,i,n){if(!this._renderer._doStroke&&!this._renderer._doFill)return this;r<0&&(r=Math.abs(r)),void 0===i?i=r:i<0&&(i=Math.abs(i));var o=f.default.modeAdjust(t,e,r,i,this._renderer._ellipseMode);return this._renderer.ellipse([o.x,o.y,o.w,o.h,n]),this},h.default.prototype.line=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;h.default._validateParameters("line",e),this._renderer._doStroke&&(i=this._renderer).line.apply(i,e);return this},h.default.prototype.point=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;h.default._validateParameters("point",e),this._renderer._doStroke&&(1===e.length&&e[0]instanceof h.default.Vector?this._renderer.point.call(this._renderer,e[0].x,e[0].y,e[0].z):(i=this._renderer).point.apply(i,e));return this},h.default.prototype.quad=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;h.default._validateParameters("quad",e),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&12!==e.length?this._renderer.quad.call(this._renderer,e[0],e[1],0,e[2],e[3],0,e[4],e[5],0,e[6],e[7],0):(i=this._renderer).quad.apply(i,e));return this},h.default.prototype.rect=function(){return h.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},h.default.prototype.square=function(t,e,r,i,n,o,a){return h.default._validateParameters("square",arguments),this._renderRect.call(this,t,e,r,r,i,n,o,a)},h.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var t=f.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),e=[t.x,t.y,t.w,t.h],r=4;r<arguments.length;r++)e[r]=arguments[r];this._renderer.rect(e)}return this},h.default.prototype.triangle=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return h.default._validateParameters("triangle",e),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(e),this};var n=h.default;r.default=n},{"../constants":31,"../error_helpers":33,"../helpers":34,"../main":38}],46:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../main"))&&i.__esModule?i:{default:i},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}n.default.prototype.ellipseMode=function(t){return n.default._validateParameters("ellipseMode",arguments),t!==o.CORNER&&t!==o.CORNERS&&t!==o.RADIUS&&t!==o.CENTER||(this._renderer._ellipseMode=t),this},n.default.prototype.noSmooth=function(){return this.setAttributes("antialias",!1),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},n.default.prototype.rectMode=function(t){return n.default._validateParameters("rectMode",arguments),t!==o.CORNER&&t!==o.CORNERS&&t!==o.RADIUS&&t!==o.CENTER||(this._renderer._rectMode=t),this},n.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},n.default.prototype.strokeCap=function(t){return n.default._validateParameters("strokeCap",arguments),t!==o.ROUND&&t!==o.SQUARE&&t!==o.PROJECT||this._renderer.strokeCap(t),this},n.default.prototype.strokeJoin=function(t){return n.default._validateParameters("strokeJoin",arguments),t!==o.ROUND&&t!==o.BEVEL&&t!==o.MITER||this._renderer.strokeJoin(t),this},n.default.prototype.strokeWeight=function(t){return n.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(t),this};var l=n.default;r.default=l},{"../constants":31,"../main":38}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("../main"))&&i.__esModule?i:{default:i};t("../error_helpers"),s.default.prototype.bezier=function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return s.default._validateParameters("bezier",r),(this._renderer._doStroke||this._renderer._doFill)&&(t=this._renderer).bezier.apply(t,r),this},s.default.prototype.bezierDetail=function(t){return s.default._validateParameters("bezierDetail",arguments),this._bezierDetail=t,this},s.default.prototype.bezierPoint=function(t,e,r,i,n){s.default._validateParameters("bezierPoint",arguments);var o=1-n;return Math.pow(o,3)*t+3*Math.pow(o,2)*n*e+3*o*Math.pow(n,2)*r+Math.pow(n,3)*i},s.default.prototype.bezierTangent=function(t,e,r,i,n){s.default._validateParameters("bezierTangent",arguments);var o=1-n;return 3*i*Math.pow(n,2)-3*r*Math.pow(n,2)+6*r*o*n-6*e*o*n+3*e*Math.pow(o,2)-3*t*Math.pow(o,2)},s.default.prototype.curve=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;s.default._validateParameters("curve",e),this._renderer._doStroke&&(i=this._renderer).curve.apply(i,e);return this},s.default.prototype.curveDetail=function(t){return s.default._validateParameters("curveDetail",arguments),this._curveDetail=t<3?3:t,this},s.default.prototype.curveTightness=function(t){return s.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=t,this},s.default.prototype.curvePoint=function(t,e,r,i,n){s.default._validateParameters("curvePoint",arguments);var o=n*n*n,a=n*n;return t*(-.5*o+a-.5*n)+e*(1.5*o-2.5*a+1)+r*(-1.5*o+2*a+.5*n)+i*(.5*o-.5*a)},s.default.prototype.curveTangent=function(t,e,r,i,n){s.default._validateParameters("curveTangent",arguments);var o=n*n;return t*(-3*o/2+2*n-.5)+e*(9*o/2-5*n)+r*(-9*o/2+4*n+.5)+i*(3*o/2-n)};var n=s.default;r.default=n},{"../error_helpers":33,"../main":38}],48:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("../main"))&&i.__esModule?i:{default:i},l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../constants"));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}var n=null,h=[],f=[],c=!1,o=!1,d=!1,p=!1,m=!0;s.default.prototype.beginContour=function(){return f=[],p=!0,this},s.default.prototype.beginShape=function(t){var e;(s.default._validateParameters("beginShape",arguments),this._renderer.isP3D)?(e=this._renderer).beginShape.apply(e,arguments):(n=t===l.POINTS||t===l.LINES||t===l.TRIANGLES||t===l.TRIANGLE_FAN||t===l.TRIANGLE_STRIP||t===l.QUADS||t===l.QUAD_STRIP?t:null,h=[],f=[]);return this},s.default.prototype.bezierVertex=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;if(s.default._validateParameters("bezierVertex",e),this._renderer.isP3D)(i=this._renderer).bezierVertex.apply(i,e);else if(0===h.length)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{c=!0;for(var n=[],o=0;o<e.length;o++)n[o]=e[o];n.isVert=!1,p?f.push(n):h.push(n)}return this},s.default.prototype.curveVertex=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;(s.default._validateParameters("curveVertex",e),this._renderer.isP3D)?(i=this._renderer).curveVertex.apply(i,e):(o=!0,this.vertex(e[0],e[1]));return this},s.default.prototype.endContour=function(){var t=f[0].slice();t.isVert=f[0].isVert,t.moveTo=!1,f.push(t),m&&(h.push(h[0]),m=!1);for(var e=0;e<f.length;e++)h.push(f[e]);return this},s.default.prototype.endShape=function(t){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(t,o,c,d,p,n);else{if(0===h.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var e=t===l.CLOSE;e&&!p&&h.push(h[0]),this._renderer.endShape(t,h,o,c,d,p,n),m=!(p=d=c=o=!1),e&&h.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(s.default._validateParameters("quadraticVertex",e),this._renderer.isP3D){var i;(i=this._renderer).quadraticVertex.apply(i,e)}else{if(this._contourInited){var n={};return n.x=e[0],n.y=e[1],n.x3=e[2],n.y3=e[3],n.type=l.QUADRATIC,this._contourVertices.push(n),this}if(0<h.length){d=!0;for(var o=[],a=0;a<e.length;a++)o[a]=e[a];o.isVert=!1,p?f.push(o):h.push(o)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(t,e,r,i,n){if(this._renderer.isP3D){var o;(o=this._renderer).vertex.apply(o,arguments)}else{var a=[];a.isVert=!0,a[0]=t,a[1]=e,a[2]=0,a[3]=0,a[4]=0,a[5]=this._renderer._getFill(),a[6]=this._renderer._getStroke(),r&&(a.moveTo=r),p?(0===f.length&&(a.moveTo=!0),f.push(a)):h.push(a)}return this};var g=s.default;r.default=g},{"../constants":31,"../main":38}],49:[function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),function(){if(!Object.assign){var s=Object.keys,t=Object.defineProperty,l="function"==typeof Symbol&&"symbol"===i(Symbol()),r=Object.prototype.propertyIsEnumerable,u=function(e){return function(t){return r.call(e,t)}};t(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("target must be an object");var r,i,n,o,a=Object(t);for(r=1;r<arguments.length;++r)for(i=Object(arguments[r]),o=s(i),l&&Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(i).filter(u(i))),n=0;n<o.length;++n)a[o[n]]=i[o[n]];return a},configurable:!0,enumerable:!1,writable:!0})}}()},{}],50:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("./main"))&&i.__esModule?i:{default:i};n.default.prototype.noLoop=function(){this._loop=!1},n.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},n.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},n.default.prototype.pop=function(){var t=this._styles.pop();t?(this._renderer.pop(t.renderer),Object.assign(this,t.props)):console.warn("pop() was called without matching push()")},n.default.prototype.redraw=function(t){if(!this._inUserDraw&&this._setupDone){var e=parseInt(t);(isNaN(e)||e<1)&&(e=1);var r=this._isGlobal?window:this,i=r.setup,n=r.draw;if("function"==typeof n){void 0===i&&r.scale(r._pixelDensity,r._pixelDensity);for(var o=function(t){t.call(r)},a=0;a<e;a++){r.resetMatrix(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(o),this._inUserDraw=!0;try{n()}finally{this._inUserDraw=!1}r._registeredMethods.post.forEach(o)}}}};var o=n.default;r.default=o},{"./main":38}],51:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,o=(i=t("./main"))&&i.__esModule?i:{default:i};o.default.prototype.applyMatrix=function(t,e,r,i,n,o){var a;return(a=this._renderer).applyMatrix.apply(a,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(t,e){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(t),e),this},o.default.prototype.rotateX=function(t){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(t)),this},o.default.prototype.rotateY=function(t){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(t)),this},o.default.prototype.rotateZ=function(t){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(t)),this},o.default.prototype.scale=function(t,e,r){if(o.default._validateParameters("scale",arguments),t instanceof o.default.Vector){var i=t;t=i.x,e=i.y,r=i.z}else if(t instanceof Array){var n=t;t=n[0],e=n[1],r=n[2]||1}return isNaN(e)?e=r=t:isNaN(r)&&(r=1),this._renderer.scale.call(this._renderer,t,e,r),this},o.default.prototype.shearX=function(t){o.default._validateParameters("shearX",arguments);var e=this._toRadians(t);return this._renderer.applyMatrix(1,0,Math.tan(e),1,0,0),this},o.default.prototype.shearY=function(t){o.default._validateParameters("shearY",arguments);var e=this._toRadians(t);return this._renderer.applyMatrix(1,Math.tan(e),0,1,0,0),this},o.default.prototype.translate=function(t,e,r){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(t,e,r):this._renderer.translate(t,e),this};var n=o.default;r.default=n},{"./main":38}],52:[function(t,e,r){"use strict";var i,n=(i=t("./core/main"))&&i.__esModule?i:{default:i};t("./core/constants"),t("./core/environment"),t("./core/error_helpers"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./core/init"),e.exports=n.default},{"./color/color_conversion":27,"./color/creating_reading":28,"./color/p5.Color":29,"./color/setting":30,"./core/constants":31,"./core/environment":32,"./core/error_helpers":33,"./core/helpers":34,"./core/init":35,"./core/legacy":37,"./core/main":38,"./core/p5.Element":39,"./core/p5.Graphics":40,"./core/p5.Renderer":41,"./core/p5.Renderer2D":42,"./core/preload":43,"./core/rendering":44,"./core/shape/2d_primitives":45,"./core/shape/attributes":46,"./core/shape/curves":47,"./core/shape/vertex":48,"./core/shim":49,"./core/structure":50,"./core/transform":51,"./image/filters":53,"./image/image":54,"./image/loading_displaying":55,"./image/p5.Image":56,"./image/pixels":57,"./math/calculation":58,"./math/math":59,"./math/noise":60,"./math/p5.Vector":61,"./math/random":62,"./math/trigonometry":63}],53:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var E,T,R,A,k={};function i(t,e){for(var r,i,n,o,a,s,l,u,h,f,c=k._toPixels(t),d=t.width,p=t.height,m=d*p,g=new Int32Array(m),y=0;y<m;y++)g[y]=k._getARGB(c,y);var v,_,b,x,w=new Int32Array(m),S=new Int32Array(m),C=new Int32Array(m),M=new Int32Array(m),P=0;for(!function(t){var e=3.5*t|0;if(E!==(e=e<1?1:e<248?e:248)){T=1+(E=e)<<1,R=new Int32Array(T),A=new Array(T);for(var r=0;r<T;r++)A[r]=new Int32Array(256);for(var i,n,o,a,s=1,l=e-1;s<e;s++){R[e+s]=R[l]=n=l*l,o=A[e+s],a=A[l--];for(var u=0;u<256;u++)o[u]=a[u]=n*u}i=R[e]=e*e,o=A[e];for(var h=0;h<256;h++)o[h]=i*h}}(e),_=0;_<p;_++){for(v=0;v<d;v++){if(o=n=i=a=r=0,(s=v-E)<0)f=-s,s=0;else{if(d<=s)break;f=0}for(b=f;b<T&&!(d<=s);b++){var L=g[s+P];a+=(x=A[b])[(-16777216&L)>>>24],i+=x[(16711680&L)>>16],n+=x[(65280&L)>>8],o+=x[255&L],r+=R[b],s++}w[l=P+v]=a/r,S[l]=i/r,C[l]=n/r,M[l]=o/r}P+=d}for(h=(u=-E)*d,_=P=0;_<p;_++){for(v=0;v<d;v++){if(o=n=i=a=r=0,u<0)f=l=-u,s=v;else{if(p<=u)break;f=0,l=u,s=v+h}for(b=f;b<T&&!(p<=l);b++)a+=(x=A[b])[w[s]],i+=x[S[s]],n+=x[C[s]],o+=x[M[s]],r+=R[b],l++,s+=d;g[v+P]=a/r<<24|i/r<<16|n/r<<8|o/r}P+=d,h+=d,u++}k._setPixels(c,g)}k._toPixels=function(t){return t instanceof ImageData?t.data:t.getContext("2d").getImageData(0,0,t.width,t.height).data},k._getARGB=function(t,e){var r=4*e;return t[3+r]<<24&4278190080|t[r]<<16&16711680|t[1+r]<<8&65280|255&t[2+r]},k._setPixels=function(t,e){for(var r=0,i=0,n=t.length;i<n;i++)t[(r=4*i)+0]=(16711680&e[i])>>>16,t[r+1]=(65280&e[i])>>>8,t[r+2]=255&e[i],t[r+3]=(4278190080&e[i])>>>24},k._toImageData=function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},k._createImageData=function(t,e){return k._tmpCanvas=document.createElement("canvas"),k._tmpCtx=k._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,e)},k.apply=function(t,e,r){var i=t.getContext("2d"),n=i.getImageData(0,0,t.width,t.height),o=e(n,r);o instanceof ImageData?i.putImageData(o,0,0,0,0,t.width,t.height):i.putImageData(n,0,0,0,0,t.width,t.height)},k.threshold=function(t,e){var r=k._toPixels(t);void 0===e&&(e=.5);for(var i=Math.floor(255*e),n=0;n<r.length;n+=4){var o=void 0;o=i<=.2126*r[n]+.7152*r[n+1]+.0722*r[n+2]?255:0,r[n]=r[n+1]=r[n+2]=o}},k.gray=function(t){for(var e=k._toPixels(t),r=0;r<e.length;r+=4){var i=.2126*e[r]+.7152*e[r+1]+.0722*e[r+2];e[r]=e[r+1]=e[r+2]=i}},k.opaque=function(t){for(var e=k._toPixels(t),r=0;r<e.length;r+=4)e[r+3]=255;return e},k.invert=function(t){for(var e=k._toPixels(t),r=0;r<e.length;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},k.posterize=function(t,e){var r=k._toPixels(t);if(e<2||255<e)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var i=e-1,n=0;n<r.length;n+=4){var o=r[n],a=r[n+1],s=r[n+2];r[n]=255*(o*e>>8)/i,r[n+1]=255*(a*e>>8)/i,r[n+2]=255*(s*e>>8)/i}},k.dilate=function(t){for(var e,r,i,n,o,a,s,l,u,h,f,c,d,p,m,g,y,v=k._toPixels(t),_=0,b=v.length?v.length/4:0,x=new Int32Array(b);_<b;)for(r=(e=_)+t.width;_<r;)i=n=k._getARGB(v,_),(s=_-1)<e&&(s=_),r<=(a=_+1)&&(a=_),(l=_-t.width)<0&&(l=0),b<=(u=_+t.width)&&(u=_),c=k._getARGB(v,l),f=k._getARGB(v,s),d=k._getARGB(v,u),(o=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(m=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(n=f,o=m),o<(p=77*((h=k._getARGB(v,a))>>16&255)+151*(h>>8&255)+28*(255&h))&&(n=h,o=p),o<(g=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,o=g),o<(y=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(n=d,o=y),x[_++]=n;k._setPixels(v,x)},k.erode=function(t){for(var e,r,i,n,o,a,s,l,u,h,f,c,d,p,m,g,y,v=k._toPixels(t),_=0,b=v.length?v.length/4:0,x=new Int32Array(b);_<b;)for(r=(e=_)+t.width;_<r;)i=n=k._getARGB(v,_),(s=_-1)<e&&(s=_),r<=(a=_+1)&&(a=_),(l=_-t.width)<0&&(l=0),b<=(u=_+t.width)&&(u=_),c=k._getARGB(v,l),f=k._getARGB(v,s),d=k._getARGB(v,u),(m=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(o=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(n=f,o=m),(p=77*((h=k._getARGB(v,a))>>16&255)+151*(h>>8&255)+28*(255&h))<o&&(n=h,o=p),(g=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<o&&(n=c,o=g),(y=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<o&&(n=d,o=y),x[_++]=n;k._setPixels(v,x)},k.blur=function(t,e){i(t,e)};var n=k;r.default=n},{}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var k=i(t("../core/main")),I=i(t("omggif"));function i(t){return t&&t.__esModule?t:{default:t}}function O(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var c=[];k.default.prototype.createImage=function(t,e){return k.default._validateParameters("createImage",arguments),new k.default.Image(t,e)},k.default.prototype.saveCanvas=function(){k.default._validateParameters("saveCanvas",arguments);var t,e,r,i,n=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(t=arguments[0],n.shift()):arguments[0]instanceof k.default.Element?(t=arguments[0].elt,n.shift()):t=this._curElement&&this._curElement.elt,1<=n.length&&(e=n[0]),2<=n.length&&(r=n[1]),r=r||k.default.prototype._checkFileExtension(e,r)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}t.toBlob(function(t){k.default.prototype.downloadFile(t,e,r)},i)},k.default.prototype.saveGif=function(p,t){var m=p.gifProperties,e=m.loopLimit;1===e?e=null:null===e&&(e=0);for(var r=new Uint8Array(p.width*p.height*m.numFrames),g=[],i={},n=0;n<m.numFrames;n++){for(var o=new Set,a=m.frames[n].image.data,s=a.length,l=new Uint32Array(p.width*p.height),u=0,h=0;u<s;u+=4,h++){var f=a[u+0]<<16|a[u+1]<<8|a[u+2]<<0;o.add(f),l[h]=f}var c=O(o).sort().toString();void 0===i[c]?i[c]={freq:1,frames:[n]}:(i[c].freq+=1,i[c].frames.push(n)),g.push(l)}var y=[],d=Object.keys(i).sort(function(t,e){return i[e].freq-i[t].freq}),v=d[0].split(",").map(function(t){return parseInt(t)});y=y.concat(i[v].frames);for(var _=new Set(v),b=1;b<d.length;b++){var x=d[b].split(",").map(function(t){return parseInt(t)}).filter(function(t){return!_.has(t)});if(v.length+x.length<=256){for(var w=0;w<x.length;w++)v.push(x[w]),_.add(x[w]);y=y.concat(i[d[b]].frames)}}y=new Set(y);for(var S={},C=0;C<v.length;C++)S[v[C]]||(S[v[C]]=C);for(var M=1;M<v.length;)M<<=1;v.length=M;for(var P={loop:e,palette:new Uint32Array(v)},L=new I.default.GifWriter(r,p.width,p.height,P),E={},T=function(t){for(var e=!y.has(t),r=e?[]:v,i=new Uint8Array(p.width*p.height),n={},o=new Set,a=0;a<g[t].length;a++){var s=g[t][a];e?(void 0===n[s]&&(n[s]=r.length,r.push(s)),i[a]=n[s]):i[a]=S[s],0<t&&g[t-1][a]!==s&&o.add(s)}var l={},u=r.filter(function(t){return!o.has(t)});if(0<u.length){var h=u[0],f=e?n[h]:S[h];if(0<t){for(var c=0;c<g[t].length;c++)g[t-1][c]===g[t][c]&&(i[c]=f);l.transparent=f,E.frameOpts.disposal=1}}if(l.delay=m.frames[t].delay/10,e){for(var d=1;d<r.length;)d<<=1;r.length=d,l.palette=new Uint32Array(r)}0<t&&L.addFrame(0,0,p.width,p.height,E.pixelPaletteIndex,E.frameOpts),E={pixelPaletteIndex:i,frameOpts:l}},R=0;R<m.numFrames;R++)T(R);E.frameOpts.disposal=1,L.addFrame(0,0,p.width,p.height,E.pixelPaletteIndex,E.frameOpts);var A=new Blob([r.slice(0,L.end())],{type:"image/gif"});k.default.prototype.downloadFile(A,t,"gif")},k.default.prototype.saveFrames=function(t,e,r,i,n){k.default._validateParameters("saveFrames",arguments);var o=r||3;o=k.default.prototype.constrain(o,0,15),o*=1e3;var a=i||15;a=k.default.prototype.constrain(a,0,22);var s=0,l=k.default.prototype._makeFrame,u=this._curElement.elt,h=setInterval(function(){l(t+s,e,u),s++},1e3/a);setTimeout(function(){if(clearInterval(h),n)n(c);else{var t,e=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=f(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}}}(c);try{for(e.s();!(t=e.n()).done;){var r=t.value;k.default.prototype.downloadFile(r.imageData,r.filename,r.ext)}}catch(t){e.e(t)}finally{e.f()}}c=[]},o+.01)},k.default.prototype._makeFrame=function(t,e,r){var i,n;if(i=this?this._curElement.elt:r,e)switch(e.toLowerCase()){case"png":n="image/png";break;case"jpeg":case"jpg":n="image/jpeg";break;default:n="image/png"}else e="png",n="image/png";var o=i.toDataURL(n);o=o.replace(n,"image/octet-stream");var a={};a.imageData=o,a.filename=t,a.ext=e,c.push(a)};var o=k.default;r.default=o},{"../core/main":38,omggif:24}],55:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var x=n(t("../core/main")),f=n(t("./filters")),w=n(t("../core/helpers")),i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants")),p=n(t("omggif"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function n(t){return t&&t.__esModule?t:{default:t}}function S(t,e){return 0<t&&t<e?t:e}t("../core/error_helpers"),x.default.prototype.loadImage=function(i,n,o){x.default._validateParameters("loadImage",arguments);var a=new x.default.Image(1,1,this),s=this,t=new Request(i,{method:"GET",mode:"cors"});return fetch(i,t).then(function(t){var e=t.headers.get("content-type");if(null===e&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),e&&e.includes("image/gif"))t.arrayBuffer().then(function(t){t&&function(t,r,e,i,n){var o=new p.default.GifReader(t);r.width=r.canvas.width=o.width,r.height=r.canvas.height=o.height;var a=[],s=o.numFrames(),l=new Uint8ClampedArray(r.width*r.height*4);if(1<s){for(var u=function(t,e){try{e.decodeAndBlitFrameRGBA(t,l)}catch(t){x.default._friendlyFileLoadError(8,r.src),"function"==typeof i?i(t):console.error(t)}},h=0;h<s;h++){var f=o.frameInfo(h);1===o.frameInfo(h).disposal&&0<h?r.drawingContext.putImageData(a[h-1].image,0,0):(r.drawingContext.clearRect(0,0,r.width,r.height),l=new Uint8ClampedArray(r.width*r.height*4)),u(h,o);var c=new ImageData(l,r.width,r.height);r.drawingContext.putImageData(c,0,0),a.push({image:r.drawingContext.getImageData(0,0,r.width,r.height),delay:10*f.delay})}var d=o.loopCount();null===d?d=1:0===d&&(d=null),r.gifProperties={displayIndex:0,loopLimit:d,loopCount:0,frames:a,numFrames:s,playing:!0,timeDisplayed:0}}"function"==typeof e&&e(r);n()}(new Uint8Array(t),a,n,o,function(t){s._decrementPreload()}.bind(s))},function(t){"function"==typeof o?o(t):console.error(t)});else{var r=new Image;r.onload=function(){a.width=a.canvas.width=r.width,a.height=a.canvas.height=r.height,a.drawingContext.drawImage(r,0,0),a.modified=!0,"function"==typeof n&&n(a),s._decrementPreload()},r.onerror=function(t){x.default._friendlyFileLoadError(0,r.src),"function"==typeof o?o(t):console.error(t)},0!==i.indexOf("data:image/")&&(r.crossOrigin="Anonymous"),r.src=i}a.modified=!0}),a},x.default.prototype.image=function(t,e,r,i,n,o,a,s,l){x.default._validateParameters("image",arguments);var u=t.width,h=t.height;t.elt&&t.elt.videoWidth&&!t.canvas&&(u=t.elt.videoWidth,h=t.elt.videoHeight);var f=e,c=r,d=i||u,p=n||h,m=o||0,g=a||0,y=s||u,v=l||h;y=S(y,u),v=S(v,h);var _=1;t.elt&&!t.canvas&&t.elt.style.width&&(_=t.elt.videoWidth&&!i?t.elt.videoWidth:t.elt.width,_/=parseInt(t.elt.style.width,10)),m*=_,g*=_,v*=_,y*=_;var b=w.default.modeAdjust(f,c,d,p,this._renderer._imageMode);this._renderer.image(t,m,g,y,v,b.x,b.y,b.w,b.h)},x.default.prototype.tint=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];x.default._validateParameters("tint",e);var i=this.color.apply(this,e);this._renderer._tint=i.levels},x.default.prototype.noTint=function(){this._renderer._tint=null},x.default.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=f.default._toPixels(t.canvas),r=document.createElement("canvas");r.width=t.canvas.width,r.height=t.canvas.height;for(var i=r.getContext("2d"),n=i.createImageData(t.canvas.width,t.canvas.height),o=n.data,a=0;a<e.length;a+=4){var s=e[a],l=e[a+1],u=e[a+2],h=e[a+3];o[a]=s*this._renderer._tint[0]/255,o[a+1]=l*this._renderer._tint[1]/255,o[a+2]=u*this._renderer._tint[2]/255,o[a+3]=h*this._renderer._tint[3]/255}return i.putImageData(n,0,0),r},x.default.prototype.imageMode=function(t){x.default._validateParameters("imageMode",arguments),t!==i.CORNER&&t!==i.CORNERS&&t!==i.CENTER||(this._renderer._imageMode=t)};var o=x.default;r.default=o},{"../core/constants":31,"../core/error_helpers":33,"../core/helpers":34,"../core/main":38,"./filters":53,omggif:24}],56:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(t("../core/main")),i=o(t("./filters"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}n.default.Image=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},n.default.Image.prototype._animateGif=function(t){var e=this.gifProperties;if(e.playing){e.timeDisplayed+=t.deltaTime;var r=e.frames[e.displayIndex].delay;if(e.timeDisplayed>=r){var i=Math.floor(e.timeDisplayed/r);if(e.timeDisplayed=0,e.displayIndex+=i,e.loopCount=Math.floor(e.displayIndex/e.numFrames),null!==e.loopLimit&&e.loopCount>=e.loopLimit)e.playing=!1;else{var n=e.displayIndex%e.numFrames;this.drawingContext.putImageData(e.frames[n].image,0,0),e.displayIndex=n,this.setModified(!0)}}}},n.default.Image.prototype._setProperty=function(t,e){this[t]=e,this.setModified(!0)},n.default.Image.prototype.loadPixels=function(){n.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},n.default.Image.prototype.updatePixels=function(t,e,r,i){n.default.Renderer2D.prototype.updatePixels.call(this,t,e,r,i),this.setModified(!0)},n.default.Image.prototype.get=function(t,e,r,i){return n.default._validateParameters("p5.Image.get",arguments),n.default.Renderer2D.prototype.get.apply(this,arguments)},n.default.Image.prototype._getPixel=n.default.Renderer2D.prototype._getPixel,n.default.Image.prototype.set=function(t,e,r){n.default.Renderer2D.prototype.set.call(this,t,e,r),this.setModified(!0)},n.default.Image.prototype.resize=function(t,e){0===t&&0===e?(t=this.canvas.width,e=this.canvas.height):0===t?t=this.canvas.width*e/this.canvas.height:0===e&&(e=this.canvas.height*t/this.canvas.width),t=Math.floor(t),e=Math.floor(e);var r=document.createElement("canvas");if(r.width=t,r.height=e,this.gifProperties)for(var i=this.gifProperties,n=function(t,e){for(var r=0,i=0;i<e.height;i++)for(var n=0;n<e.width;n++){var o=Math.floor(n*t.width/e.width),a=4*(Math.floor(i*t.height/e.height)*t.width+o);e.data[r++]=t.data[a++],e.data[r++]=t.data[a++],e.data[r++]=t.data[a++],e.data[r++]=t.data[a++]}},o=0;o<i.numFrames;o++){var a=this.drawingContext.createImageData(t,e);n(i.frames[o].image,a),i.frames[o].image=a}r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=t,this.canvas.height=this.height=e,this.drawingContext.drawImage(r,0,0,t,e,0,0,t,e),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},n.default.Image.prototype.copy=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.default.prototype.copy.apply(this,e)},n.default.Image.prototype.mask=function(t){void 0===t&&(t=this);var e=this.drawingContext.globalCompositeOperation,r=1;t instanceof n.default.Renderer&&(r=t._pInst._pixelDensity);var i=[t,0,0,r*t.width,r*t.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",n.default.Image.prototype.copy.apply(this,i),this.drawingContext.globalCompositeOperation=e,this.setModified(!0)},n.default.Image.prototype.filter=function(t,e){i.default.apply(this.canvas,i.default[t],e),this.setModified(!0)},n.default.Image.prototype.blend=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n.default.prototype.blend.apply(this,e),this.setModified(!0)},n.default.Image.prototype.setModified=function(t){this._modified=t},n.default.Image.prototype.isModified=function(){return this._modified},n.default.Image.prototype.save=function(t,e){this.gifProperties?n.default.prototype.saveGif(this,t):n.default.prototype.saveCanvas(this.canvas,t,e)},n.default.Image.prototype.reset=function(){if(this.gifProperties){var t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}},n.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var t=this.gifProperties;return t.displayIndex%t.numFrames}},n.default.Image.prototype.setFrame=function(t){if(this.gifProperties){var e=this.gifProperties;t<e.numFrames&&0<=t?(e.timeDisplayed=0,e.displayIndex=t,this.drawingContext.putImageData(e.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}},n.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},n.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},n.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},n.default.Image.prototype.delay=function(t,e){if(this.gifProperties){var r=this.gifProperties;if(e<r.numFrames&&0<=e)r.frames[e].delay=t;else{var i,n=a(r.frames);try{for(n.s();!(i=n.n()).done;){i.value.delay=t}}catch(t){n.e(t)}finally{n.f()}}}};var l=n.default.Image;r.default=l},{"../core/main":38,"./filters":53}],57:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=n(t("../core/main")),i=n(t("./filters"));function n(t){return t&&t.__esModule?t:{default:t}}t("../color/p5.Color"),d.default.prototype.pixels=[],d.default.prototype.blend=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;(d.default._validateParameters("blend",e),this._renderer)?(i=this._renderer).blend.apply(i,e):d.default.Renderer2D.prototype.blend.apply(this,e)},d.default.prototype.copy=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i,n,o,a,s,l,u,h,f;if(d.default._validateParameters("copy",e),9===e.length)i=e[0],n=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],h=e[7],f=e[8];else{if(8!==e.length)throw new Error("Signature not supported");i=this,n=e[0],o=e[1],a=e[2],s=e[3],l=e[4],u=e[5],h=e[6],f=e[7]}d.default.prototype._copyHelper(this,i,n,o,a,s,l,u,h,f)},d.default.prototype._copyHelper=function(t,e,r,i,n,o,a,s,l,u){e.loadPixels();var h=e.canvas.width/e.width,f=0,c=0;e._renderer&&e._renderer.isP3D&&(f=e.width/2,c=e.height/2),t._renderer&&t._renderer.isP3D?d.default.RendererGL.prototype.image.call(t._renderer,e,r+f,i+c,n,o,a,s,l,u):t.drawingContext.drawImage(e.canvas,h*(r+f),h*(i+c),h*n,h*o,a,s,l,u)},d.default.prototype.filter=function(t,e){d.default._validateParameters("filter",arguments),void 0!==this.canvas?i.default.apply(this.canvas,i.default[t],e):i.default.apply(this.elt,i.default[t],e)},d.default.prototype.get=function(t,e,r,i){var n;return d.default._validateParameters("get",arguments),(n=this._renderer).get.apply(n,arguments)},d.default.prototype.loadPixels=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];d.default._validateParameters("loadPixels",e),this._renderer.loadPixels()},d.default.prototype.set=function(t,e,r){this._renderer.set(t,e,r)},d.default.prototype.updatePixels=function(t,e,r,i){d.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(t,e,r,i)};var o=d.default;r.default=o},{"../color/p5.Color":29,"../core/main":38,"./filters":53}],58:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,s=(i=t("../core/main"))&&i.__esModule?i:{default:i};function n(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var t=arguments.length,e=[],r=0,i=0;i<t;i++){var n=arguments[i];if((n=+n)===1/0||n===-1/0)return 1/0;r<(n=Math.abs(n))&&(r=n),e[i]=n}0===r&&(r=1);for(var o=0,a=0,s=0;s<t;s++){var l=e[s]/r,u=l*l-a,h=o+u;a=h-o-u,o=h}return Math.sqrt(o)*r}s.default.prototype.abs=Math.abs,s.default.prototype.ceil=Math.ceil,s.default.prototype.constrain=function(t,e,r){return s.default._validateParameters("constrain",arguments),Math.max(Math.min(t,r),e)},s.default.prototype.dist=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return s.default._validateParameters("dist",e),4===e.length?n(e[2]-e[0],e[3]-e[1]):6===e.length?n(e[3]-e[0],e[4]-e[1],e[5]-e[2]):void 0},s.default.prototype.exp=Math.exp,s.default.prototype.floor=Math.floor,s.default.prototype.lerp=function(t,e,r){return s.default._validateParameters("lerp",arguments),r*(e-t)+t},s.default.prototype.log=Math.log,s.default.prototype.mag=function(t,e){return s.default._validateParameters("mag",arguments),n(t,e)},s.default.prototype.map=function(t,e,r,i,n,o){s.default._validateParameters("map",arguments);var a=(t-e)/(r-e)*(n-i)+i;return o?i<n?this.constrain(a,i,n):this.constrain(a,n,i):a},s.default.prototype.max=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return s.default._validateParameters("max",e),e[0]instanceof Array?Math.max.apply(null,e[0]):Math.max.apply(null,e)},s.default.prototype.min=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return s.default._validateParameters("min",e),e[0]instanceof Array?Math.min.apply(null,e[0]):Math.min.apply(null,e)},s.default.prototype.norm=function(t,e,r){return s.default._validateParameters("norm",arguments),this.map(t,e,r,0,1)},s.default.prototype.pow=Math.pow,s.default.prototype.round=function(t,e){return e?Number(Math.round(t+"e"+e)+"e-"+e):Math.round(t)},s.default.prototype.sq=function(t){return t*t},s.default.prototype.sqrt=Math.sqrt,s.default.prototype.fract=function(t){s.default._validateParameters("fract",arguments);var e=0,r=Number(t);if(isNaN(r)||Math.abs(r)===1/0)return r;if(r<0&&(r=-r,e=1),!String(r).includes(".")||String(r).includes("e"))return r<1?Math.abs(e-r):0;var i=String(r);return i=Number("0"+i.slice(i.indexOf("."))),Math.abs(e-i)};var o=s.default;r.default=o},{"../core/main":38}],59:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};n.default.prototype.createVector=function(t,e,r){return this instanceof n.default?new n.default.Vector(this,arguments):new n.default.Vector(t,e,r)};var o=n.default;r.default=o},{"../core/main":38}],60:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};function _(t){return.5*(1-Math.cos(t*Math.PI))}var b,x=4095,w=4,S=.5;n.default.prototype.noise=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==b){b=new Array(4096);for(var i=0;i<4096;i++)b[i]=Math.random()}t<0&&(t=-t),e<0&&(e=-e),r<0&&(r=-r);for(var n,o,a,s,l,u=Math.floor(t),h=Math.floor(e),f=Math.floor(r),c=t-u,d=e-h,p=r-f,m=0,g=.5,y=0;y<w;y++){var v=u+(h<<4)+(f<<8);n=_(c),o=_(d),a=b[v&x],a+=n*(b[v+1&x]-a),s=b[v+16&x],a+=o*((s+=n*(b[v+16+1&x]-s))-a),s=b[(v+=256)&x],s+=n*(b[v+1&x]-s),l=b[v+16&x],s+=o*((l+=n*(b[v+16+1&x]-l))-s),m+=(a+=_(p)*(s-a))*g,g*=S,u<<=1,h<<=1,f<<=1,1<=(c*=2)&&(u++,c--),1<=(d*=2)&&(h++,d--),1<=(p*=2)&&(f++,p--)}return m},n.default.prototype.noiseDetail=function(t,e){0<t&&(w=t),0<e&&(S=e)},n.default.prototype.noiseSeed=function(t){var e,r,i,n=(i=4294967296,{setSeed:function(t){r=e=(null==t?Math.random()*i:t)>>>0},getSeed:function(){return e},rand:function(){return(r=(1664525*r+1013904223)%i)/i}});n.setSeed(t),b=new Array(4096);for(var o=0;o<4096;o++)b[o]=n.rand()};var o=n.default;r.default=o},{"../core/main":38}],61:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,l=(i=t("../core/main"))&&i.__esModule?i:{default:i},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}l.default.Vector=function(t,e,r){var i,n,o;o=t instanceof l.default?(this.p5=t,i=e[0]||0,n=e[1]||0,e[2]||0):(i=t||0,n=e||0,r||0),this.x=i,this.y=n,this.z=o},l.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},l.default.Vector.prototype.set=function(t,e,r){return t instanceof l.default.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):t instanceof Array?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0):(this.x=t||0,this.y=e||0,this.z=r||0),this},l.default.Vector.prototype.copy=function(){return this.p5?new l.default.Vector(this.p5,[this.x,this.y,this.z]):new l.default.Vector(this.x,this.y,this.z)},l.default.Vector.prototype.add=function(t,e,r){return t instanceof l.default.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0):t instanceof Array?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0):(this.x+=t||0,this.y+=e||0,this.z+=r||0),this};function u(t,e){return 0!==t&&(this.x=this.x%t),0!==e&&(this.y=this.y%e),this}function h(t,e,r){return 0!==t&&(this.x=this.x%t),0!==e&&(this.y=this.y%e),0!==r&&(this.z=this.z%r),this}l.default.Vector.prototype.rem=function(t,e,r){if(t instanceof l.default.Vector){if(Number.isFinite(t.x)&&Number.isFinite(t.y)&&Number.isFinite(t.z)){var i=parseFloat(t.x),n=parseFloat(t.y),o=parseFloat(t.z);h.call(this,i,n,o)}}else if(t instanceof Array)t.every(function(t){return Number.isFinite(t)})&&(2===t.length&&u.call(this,t[0],t[1]),3===t.length&&h.call(this,t[0],t[1],t[2]));else if(1===arguments.length){if(Number.isFinite(t)&&0!==t)return this.x=this.x%t,this.y=this.y%t,this.z=this.z%t,this}else if(2===arguments.length){var a=Array.prototype.slice.call(arguments);a.every(function(t){return Number.isFinite(t)})&&2===a.length&&u.call(this,a[0],a[1])}else if(3===arguments.length){var s=Array.prototype.slice.call(arguments);s.every(function(t){return Number.isFinite(t)})&&3===s.length&&h.call(this,s[0],s[1],s[2])}},l.default.Vector.prototype.sub=function(t,e,r){return t instanceof l.default.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0):t instanceof Array?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0):(this.x-=t||0,this.y-=e||0,this.z-=r||0),this},l.default.Vector.prototype.mult=function(t,e,r){if(t instanceof l.default.Vector)return Number.isFinite(t.x)&&Number.isFinite(t.y)&&Number.isFinite(t.z)&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.z?(this.x*=t.x,this.y*=t.y,this.z*=t.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"),this;if(t instanceof Array)return t.every(function(t){return Number.isFinite(t)})&&t.every(function(t){return"number"==typeof t})?1===t.length?(this.x*=t[0],this.y*=t[0],this.z*=t[0]):2===t.length?(this.x*=t[0],this.y*=t[1]):3===t.length&&(this.x*=t[0],this.y*=t[1],this.z*=t[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"),this;var i=Array.prototype.slice.call(arguments);return i.every(function(t){return Number.isFinite(t)})&&i.every(function(t){return"number"==typeof t})?(1===arguments.length&&(this.x*=t,this.y*=t,this.z*=t),2===arguments.length&&(this.x*=t,this.y*=e),3===arguments.length&&(this.x*=t,this.y*=e,this.z*=r)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},l.default.Vector.prototype.div=function(t,e,r){if(t instanceof l.default.Vector){if(Number.isFinite(t.x)&&Number.isFinite(t.y)&&Number.isFinite(t.z)&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.z){if(0===t.x||0===t.y||0===t.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=t.x,this.y/=t.y,this.z/=t.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}if(t instanceof Array){if(t.every(function(t){return Number.isFinite(t)})&&t.every(function(t){return"number"==typeof t})){if(t.some(function(t){return 0===t}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===t.length?(this.x/=t[0],this.y/=t[0],this.z/=t[0]):2===t.length?(this.x/=t[0],this.y/=t[1]):3===t.length&&(this.x/=t[0],this.y/=t[1],this.z/=t[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");return this}var i=Array.prototype.slice.call(arguments);if(i.every(function(t){return Number.isFinite(t)})&&i.every(function(t){return"number"==typeof t})){if(i.some(function(t){return 0===t}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=t,this.y/=t,this.z/=t),2===arguments.length&&(this.x/=t,this.y/=e),3===arguments.length&&(this.x/=t,this.y/=e,this.z/=r)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},l.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},l.default.Vector.prototype.magSq=function(){var t=this.x,e=this.y,r=this.z;return t*t+e*e+r*r},l.default.Vector.prototype.dot=function(t,e,r){return t instanceof l.default.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(r||0)},l.default.Vector.prototype.cross=function(t){var e=this.y*t.z-this.z*t.y,r=this.z*t.x-this.x*t.z,i=this.x*t.y-this.y*t.x;return this.p5?new l.default.Vector(this.p5,[e,r,i]):new l.default.Vector(e,r,i)},l.default.Vector.prototype.dist=function(t){return t.copy().sub(this).mag()},l.default.Vector.prototype.normalize=function(){var t=this.mag();return 0!==t&&this.mult(1/t),this},l.default.Vector.prototype.limit=function(t){var e=this.magSq();return t*t<e&&this.div(Math.sqrt(e)).mult(t),this},l.default.Vector.prototype.setMag=function(t){return this.normalize().mult(t)},l.default.Vector.prototype.heading=function(){var t=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(t):t},l.default.Vector.prototype.rotate=function(t){var e=this.heading()+t;this.p5&&(e=this.p5._toRadians(e));var r=this.mag();return this.x=Math.cos(e)*r,this.y=Math.sin(e)*r,this},l.default.Vector.prototype.angleBetween=function(t){var e,r=this.dot(t)/(this.mag()*t.mag());return e=Math.acos(Math.min(1,Math.max(-1,r))),e*=Math.sign(this.cross(t).z||1),this.p5&&(e=this.p5._fromRadians(e)),e},l.default.Vector.prototype.lerp=function(t,e,r,i){return t instanceof l.default.Vector?this.lerp(t.x,t.y,t.z,e):(this.x+=(t-this.x)*i||0,this.y+=(e-this.y)*i||0,this.z+=(r-this.z)*i||0,this)},l.default.Vector.prototype.reflect=function(t){return t.normalize(),this.sub(t.mult(2*this.dot(t)))},l.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},l.default.Vector.prototype.equals=function(t,e,r){var i,n,o;return o=t instanceof l.default.Vector?(i=t.x||0,n=t.y||0,t.z||0):t instanceof Array?(i=t[0]||0,n=t[1]||0,t[2]||0):(i=t||0,n=e||0,r||0),this.x===i&&this.y===n&&this.z===o},l.default.Vector.fromAngle=function(t,e){return void 0===e&&(e=1),new l.default.Vector(e*Math.cos(t),e*Math.sin(t),0)},l.default.Vector.fromAngles=function(t,e,r){void 0===r&&(r=1);var i=Math.cos(e),n=Math.sin(e),o=Math.cos(t),a=Math.sin(t);return new l.default.Vector(r*a*n,-r*o,r*a*i)},l.default.Vector.random2D=function(){return this.fromAngle(Math.random()*o.TWO_PI)},l.default.Vector.random3D=function(){var t=Math.random()*o.TWO_PI,e=2*Math.random()-1,r=Math.sqrt(1-e*e),i=r*Math.cos(t),n=r*Math.sin(t);return new l.default.Vector(i,n,e)},l.default.Vector.add=function(t,e,r){return r?r.set(t):(r=t.copy(),3===arguments.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","")),r.add(e),r},l.default.Vector.rem=function(t,e){if(t instanceof l.default.Vector&&e instanceof l.default.Vector){var r=t.copy();return r.rem(e),r}},l.default.Vector.sub=function(t,e,r){return r?r.set(t):(r=t.copy(),3===arguments.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","")),r.sub(e),r},l.default.Vector.mult=function(t,e,r){return r?r.set(t):(r=t.copy(),3===arguments.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","")),r.mult(e),r},l.default.Vector.div=function(t,e,r){return r?r.set(t):(r=t.copy(),3===arguments.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","")),r.div(e),r},l.default.Vector.dot=function(t,e){return t.dot(e)},l.default.Vector.cross=function(t,e){return t.cross(e)},l.default.Vector.dist=function(t,e){return t.dist(e)},l.default.Vector.lerp=function(t,e,r,i){return i?i.set(t):(i=t.copy(),4===arguments.length&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","")),i.lerp(e,r),i},l.default.Vector.mag=function(t){var e=t.x,r=t.y,i=t.z,n=e*e+r*r+i*i;return Math.sqrt(n)};var n=l.default.Vector;r.default=n},{"../core/constants":31,"../core/main":38}],62:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};var o="_lcg_random_state",a=4294967296,s=0;n.default.prototype._lcg=function(t){return this[t]=(1664525*this[t]+1013904223)%a,this[t]/a},n.default.prototype._lcgSetSeed=function(t,e){this[t]=(null==e?Math.random()*a:e)>>>0},n.default.prototype.randomSeed=function(t){this._lcgSetSeed(o,t),this._gaussian_previous=!1},n.default.prototype.random=function(t,e){var r;if(n.default._validateParameters("random",arguments),r=null!=this[o]?this._lcg(o):Math.random(),void 0===t)return r;if(void 0===e)return t instanceof Array?t[Math.floor(r*t.length)]:r*t;if(e<t){var i=t;t=e,e=i}return r*(e-t)+t},n.default.prototype.randomGaussian=function(t,e){var r,i,n,o;if(this._gaussian_previous)r=s,this._gaussian_previous=!1;else{for(;1<=(o=(i=this.random(2)-1)*i+(n=this.random(2)-1)*n););r=i*(o=Math.sqrt(-2*Math.log(o)/o)),s=n*o,this._gaussian_previous=!0}return r*(e||1)+(t||0)};var l=n.default;r.default=l},{"../core/main":38}],63:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i},o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants"));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}n.default.prototype._angleMode=o.RADIANS,n.default.prototype.acos=function(t){return this._fromRadians(Math.acos(t))},n.default.prototype.asin=function(t){return this._fromRadians(Math.asin(t))},n.default.prototype.atan=function(t){return this._fromRadians(Math.atan(t))},n.default.prototype.atan2=function(t,e){return this._fromRadians(Math.atan2(t,e))},n.default.prototype.cos=function(t){return Math.cos(this._toRadians(t))},n.default.prototype.sin=function(t){return Math.sin(this._toRadians(t))},n.default.prototype.tan=function(t){return Math.tan(this._toRadians(t))},n.default.prototype.degrees=function(t){return t*o.RAD_TO_DEG},n.default.prototype.radians=function(t){return t*o.DEG_TO_RAD},n.default.prototype.angleMode=function(t){t!==o.DEGREES&&t!==o.RADIANS||(this._angleMode=t)},n.default.prototype._toRadians=function(t){return this._angleMode===o.DEGREES?t*o.DEG_TO_RAD:t},n.default.prototype._toDegrees=function(t){return this._angleMode===o.RADIANS?t*o.RAD_TO_DEG:t},n.default.prototype._fromRadians=function(t){return this._angleMode===o.DEGREES?t*o.RAD_TO_DEG:t};var l=n.default;r.default=l},{"../core/constants":31,"../core/main":38}],64:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,m=(i=t("../core/main"))&&i.__esModule?i:{default:i};m.default.prototype.camera=function(){var t;this._assert3d("camera");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return m.default._validateParameters("camera",r),(t=this._renderer._curCamera).camera.apply(t,r),this},m.default.prototype.perspective=function(){var t;this._assert3d("perspective");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return m.default._validateParameters("perspective",r),(t=this._renderer._curCamera).perspective.apply(t,r),this},m.default.prototype.ortho=function(){var t;this._assert3d("ortho");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return m.default._validateParameters("ortho",r),(t=this._renderer._curCamera).ortho.apply(t,r),this},m.default.prototype.frustum=function(){var t;this._assert3d("frustum");for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return m.default._validateParameters("frustum",r),(t=this._renderer._curCamera).frustum.apply(t,r),this},m.default.prototype.createCamera=function(){this._assert3d("createCamera");var t=new m.default.Camera(this._renderer);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),this._renderer._curCamera=t},m.default.Camera=function(t){this._renderer=t,this.cameraType="default",this.cameraMatrix=new m.default.Matrix,this.projMatrix=new m.default.Matrix},m.default.Camera.prototype.perspective=function(t,e,r,i){this.cameraType=0<arguments.length?"custom":"default",void 0===t?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),void 0===e&&(e=this.defaultAspectRatio),void 0===r&&(r=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=e,this.cameraNear=r,this.cameraFar=i,this.projMatrix=m.default.Matrix.identity();var n=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(n/e,0,0,0,0,-n,0,0,0,0,(i+r)*o,-1,0,0,2*i*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},m.default.Camera.prototype.ortho=function(t,e,r,i,n,o){void 0===t&&(t=-this._renderer.width/2),void 0===e&&(e=this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===i&&(i=this._renderer.height/2),void 0===n&&(n=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=e-t,s=i-r,l=o-n,u=2/a,h=2/s,f=-2/l,c=-(e+t)/a,d=-(i+r)/s,p=-(o+n)/l;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,-h,0,0,0,0,f,0,c,d,p,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},m.default.Camera.prototype.frustum=function(t,e,r,i,n,o){void 0===t&&(t=-this._renderer.width/2),void 0===e&&(e=this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===i&&(i=this._renderer.height/2),void 0===n&&(n=0),void 0===o&&(o=Math.max(this._renderer.width,this._renderer.height));var a=e-t,s=i-r,l=o-n,u=2*n/a,h=2*n/s,f=-2*o*n/l,c=(e+t)/a,d=(i+r)/s,p=-(o+n)/l;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,h,0,0,c,d,p,-1,0,0,f,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},m.default.Camera.prototype._rotateView=function(t,e,r,i){var n=this.centerX,o=this.centerY,a=this.centerZ;n-=this.eyeX,o-=this.eyeY,a-=this.eyeZ;var s=m.default.Matrix.identity(this._renderer._pInst);s.rotate(this._renderer._pInst._toRadians(t),e,r,i);var l=[n*s.mat4[0]+o*s.mat4[4]+a*s.mat4[8],n*s.mat4[1]+o*s.mat4[5]+a*s.mat4[9],n*s.mat4[2]+o*s.mat4[6]+a*s.mat4[10]];l[0]+=this.eyeX,l[1]+=this.eyeY,l[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,l[0],l[1],l[2],this.upX,this.upY,this.upZ)},m.default.Camera.prototype.pan=function(t){var e=this._getLocalAxes();this._rotateView(t,e.y[0],e.y[1],e.y[2])},m.default.Camera.prototype.tilt=function(t){var e=this._getLocalAxes();this._rotateView(t,e.x[0],e.x[1],e.x[2])},m.default.Camera.prototype.lookAt=function(t,e,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,e,r,this.upX,this.upY,this.upZ)},m.default.Camera.prototype.camera=function(t,e,r,i,n,o,a,s,l){void 0===t&&(t=this.defaultEyeX,e=this.defaultEyeY,r=this.defaultEyeZ,i=t,n=e,s=1,l=a=o=0),this.eyeX=t,this.eyeY=e,this.eyeZ=r,this.centerX=i,this.centerY=n,this.centerZ=o,this.upX=a,this.upY=s,this.upZ=l;var u=this._getLocalAxes();this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1);var h=-t,f=-e,c=-r;return this.cameraMatrix.translate([h,f,c]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},m.default.Camera.prototype.move=function(t,e,r){var i=this._getLocalAxes(),n=[i.x[0]*t,i.x[1]*t,i.x[2]*t],o=[i.y[0]*e,i.y[1]*e,i.y[2]*e],a=[i.z[0]*r,i.z[1]*r,i.z[2]*r];this.camera(this.eyeX+n[0]+o[0]+a[0],this.eyeY+n[1]+o[1]+a[1],this.eyeZ+n[2]+o[2]+a[2],this.centerX+n[0]+o[0]+a[0],this.centerY+n[1]+o[1]+a[1],this.centerZ+n[2]+o[2]+a[2],0,1,0)},m.default.Camera.prototype.setPosition=function(t,e,r){var i=t-this.eyeX,n=e-this.eyeY,o=r-this.eyeZ;this.camera(t,e,r,this.centerX+i,this.centerY+n,this.centerZ+o,0,1,0)},m.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},m.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},m.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},m.default.Camera.prototype.copy=function(){var t=new m.default.Camera(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t},m.default.Camera.prototype._getLocalAxes=function(){var t=this.eyeX-this.centerX,e=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,i=Math.sqrt(t*t+e*e+r*r);0!==i&&(t/=i,e/=i,r/=i);var n=this.upX,o=this.upY,a=this.upZ,s=o*r-a*e,l=-n*r+a*t,u=n*e-o*t;n=e*u-r*l,o=-t*u+r*s,a=t*l-e*s;var h=Math.sqrt(s*s+l*l+u*u);0!==h&&(s/=h,l/=h,u/=h);var f=Math.sqrt(n*n+o*o+a*a);return 0!==f&&(n/=f,o/=f,a/=f),{x:[s,l,u],y:[n,o,a],z:[t,e,r]}},m.default.Camera.prototype._orbit=function(t,e,r){var i=this.eyeX-this.centerX,n=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,a=Math.sqrt(i*i+n*n+o*o),s=Math.atan2(i,o),l=Math.acos(Math.max(-1,Math.min(1,n/a)));s+=t,(a+=r)<0&&(a=.1),(l+=e)>Math.PI?l=Math.PI:l<=0&&(l=.001);var u=Math.sin(l)*a*Math.sin(s),h=Math.cos(l)*a,f=Math.sin(l)*a*Math.cos(s);this.camera(u+this.centerX,h+this.centerY,f+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},m.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},m.default.prototype.setCamera=function(t){this._renderer._curCamera=t,this._renderer.uPMatrix.set(t.projMatrix.mat4[0],t.projMatrix.mat4[1],t.projMatrix.mat4[2],t.projMatrix.mat4[3],t.projMatrix.mat4[4],t.projMatrix.mat4[5],t.projMatrix.mat4[6],t.projMatrix.mat4[7],t.projMatrix.mat4[8],t.projMatrix.mat4[9],t.projMatrix.mat4[10],t.projMatrix.mat4[11],t.projMatrix.mat4[12],t.projMatrix.mat4[13],t.projMatrix.mat4[14],t.projMatrix.mat4[15])};var n=m.default.Camera;r.default=n},{"../core/main":38}],65:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,R=(i=t("../core/main"))&&i.__esModule?i:{default:i};var n=Array,A=function(t){return t instanceof Array};"undefined"!=typeof Float32Array&&(n=Float32Array,A=function(t){return t instanceof Array||t instanceof Float32Array}),R.default.Matrix=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];return t.length&&t[t.length-1]instanceof R.default&&(this.p5=t[t.length-1]),"mat3"===t[0]?this.mat3=Array.isArray(t[1])?t[1]:new n([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(t[0])?t[0]:new n([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},R.default.Matrix.prototype.set=function(t){return t instanceof R.default.Matrix?this.mat4=t.mat4:A(t)?this.mat4=t:16===arguments.length&&(this.mat4[0]=t,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},R.default.Matrix.prototype.get=function(){return new R.default.Matrix(this.mat4,this.p5)},R.default.Matrix.prototype.copy=function(){var t=new R.default.Matrix(this.p5);return t.mat4[0]=this.mat4[0],t.mat4[1]=this.mat4[1],t.mat4[2]=this.mat4[2],t.mat4[3]=this.mat4[3],t.mat4[4]=this.mat4[4],t.mat4[5]=this.mat4[5],t.mat4[6]=this.mat4[6],t.mat4[7]=this.mat4[7],t.mat4[8]=this.mat4[8],t.mat4[9]=this.mat4[9],t.mat4[10]=this.mat4[10],t.mat4[11]=this.mat4[11],t.mat4[12]=this.mat4[12],t.mat4[13]=this.mat4[13],t.mat4[14]=this.mat4[14],t.mat4[15]=this.mat4[15],t},R.default.Matrix.identity=function(t){return new R.default.Matrix(t)},R.default.Matrix.prototype.transpose=function(t){var e,r,i,n,o,a;return t instanceof R.default.Matrix?(e=t.mat4[1],r=t.mat4[2],i=t.mat4[3],n=t.mat4[6],o=t.mat4[7],a=t.mat4[11],this.mat4[0]=t.mat4[0],this.mat4[1]=t.mat4[4],this.mat4[2]=t.mat4[8],this.mat4[3]=t.mat4[12],this.mat4[4]=e,this.mat4[5]=t.mat4[5],this.mat4[6]=t.mat4[9],this.mat4[7]=t.mat4[13],this.mat4[8]=r,this.mat4[9]=n,this.mat4[10]=t.mat4[10],this.mat4[11]=t.mat4[14],this.mat4[12]=i,this.mat4[13]=o,this.mat4[14]=a,this.mat4[15]=t.mat4[15]):A(t)&&(e=t[1],r=t[2],i=t[3],n=t[6],o=t[7],a=t[11],this.mat4[0]=t[0],this.mat4[1]=t[4],this.mat4[2]=t[8],this.mat4[3]=t[12],this.mat4[4]=e,this.mat4[5]=t[5],this.mat4[6]=t[9],this.mat4[7]=t[13],this.mat4[8]=r,this.mat4[9]=n,this.mat4[10]=t[10],this.mat4[11]=t[14],this.mat4[12]=i,this.mat4[13]=o,this.mat4[14]=a,this.mat4[15]=t[15]),this},R.default.Matrix.prototype.invert=function(t){var e,r,i,n,o,a,s,l,u,h,f,c,d,p,m,g;t instanceof R.default.Matrix?(e=t.mat4[0],r=t.mat4[1],i=t.mat4[2],n=t.mat4[3],o=t.mat4[4],a=t.mat4[5],s=t.mat4[6],l=t.mat4[7],u=t.mat4[8],h=t.mat4[9],f=t.mat4[10],c=t.mat4[11],d=t.mat4[12],p=t.mat4[13],m=t.mat4[14],g=t.mat4[15]):A(t)&&(e=t[0],r=t[1],i=t[2],n=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],h=t[9],f=t[10],c=t[11],d=t[12],p=t[13],m=t[14],g=t[15]);var y=e*a-r*o,v=e*s-i*o,_=e*l-n*o,b=r*s-i*a,x=r*l-n*a,w=i*l-n*s,S=u*p-h*d,C=u*m-f*d,M=u*g-c*d,P=h*m-f*p,L=h*g-c*p,E=f*g-c*m,T=y*E-v*L+_*P+b*M-x*C+w*S;return T?(T=1/T,this.mat4[0]=(a*E-s*L+l*P)*T,this.mat4[1]=(i*L-r*E-n*P)*T,this.mat4[2]=(p*w-m*x+g*b)*T,this.mat4[3]=(f*x-h*w-c*b)*T,this.mat4[4]=(s*M-o*E-l*C)*T,this.mat4[5]=(e*E-i*M+n*C)*T,this.mat4[6]=(m*_-d*w-g*v)*T,this.mat4[7]=(u*w-f*_+c*v)*T,this.mat4[8]=(o*L-a*M+l*S)*T,this.mat4[9]=(r*M-e*L-n*S)*T,this.mat4[10]=(d*x-p*_+g*y)*T,this.mat4[11]=(h*_-u*x-c*y)*T,this.mat4[12]=(a*C-o*P-s*S)*T,this.mat4[13]=(e*P-r*C+i*S)*T,this.mat4[14]=(p*v-d*b-m*y)*T,this.mat4[15]=(u*b-h*v+f*y)*T,this):null},R.default.Matrix.prototype.invert3x3=function(){var t=this.mat3[0],e=this.mat3[1],r=this.mat3[2],i=this.mat3[3],n=this.mat3[4],o=this.mat3[5],a=this.mat3[6],s=this.mat3[7],l=this.mat3[8],u=l*n-o*s,h=-l*i+o*a,f=s*i-n*a,c=t*u+e*h+r*f;return c?(c=1/c,this.mat3[0]=u*c,this.mat3[1]=(-l*e+r*s)*c,this.mat3[2]=(o*e-r*n)*c,this.mat3[3]=h*c,this.mat3[4]=(l*t-r*a)*c,this.mat3[5]=(-o*t+r*i)*c,this.mat3[6]=f*c,this.mat3[7]=(-s*t+e*a)*c,this.mat3[8]=(n*t-e*i)*c,this):null},R.default.Matrix.prototype.transpose3x3=function(t){var e=t[1],r=t[2],i=t[5];return this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=e,this.mat3[5]=t[7],this.mat3[6]=r,this.mat3[7]=i,this},R.default.Matrix.prototype.inverseTranspose=function(t){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=t.mat4[0],this.mat3[1]=t.mat4[1],this.mat3[2]=t.mat4[2],this.mat3[3]=t.mat4[4],this.mat3[4]=t.mat4[5],this.mat3[5]=t.mat4[6],this.mat3[6]=t.mat4[8],this.mat3[7]=t.mat4[9],this.mat3[8]=t.mat4[10]);var e=this.invert3x3();if(e)e.transpose3x3(this.mat3);else for(var r=0;r<9;r++)this.mat3[r]=0;return this},R.default.Matrix.prototype.determinant=function(){var t=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],e=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],i=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],n=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],a=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],h=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return t*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-e*h+r*u+i*l-n*s+o*a},R.default.Matrix.prototype.mult=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof R.default.Matrix)e=t.mat4;else if(A(t))e=t;else{if(16!==arguments.length)return;e=arguments}var r=this.mat4[0],i=this.mat4[1],n=this.mat4[2],o=this.mat4[3];return this.mat4[0]=r*e[0]+i*e[4]+n*e[8]+o*e[12],this.mat4[1]=r*e[1]+i*e[5]+n*e[9]+o*e[13],this.mat4[2]=r*e[2]+i*e[6]+n*e[10]+o*e[14],this.mat4[3]=r*e[3]+i*e[7]+n*e[11]+o*e[15],r=this.mat4[4],i=this.mat4[5],n=this.mat4[6],o=this.mat4[7],this.mat4[4]=r*e[0]+i*e[4]+n*e[8]+o*e[12],this.mat4[5]=r*e[1]+i*e[5]+n*e[9]+o*e[13],this.mat4[6]=r*e[2]+i*e[6]+n*e[10]+o*e[14],this.mat4[7]=r*e[3]+i*e[7]+n*e[11]+o*e[15],r=this.mat4[8],i=this.mat4[9],n=this.mat4[10],o=this.mat4[11],this.mat4[8]=r*e[0]+i*e[4]+n*e[8]+o*e[12],this.mat4[9]=r*e[1]+i*e[5]+n*e[9]+o*e[13],this.mat4[10]=r*e[2]+i*e[6]+n*e[10]+o*e[14],this.mat4[11]=r*e[3]+i*e[7]+n*e[11]+o*e[15],r=this.mat4[12],i=this.mat4[13],n=this.mat4[14],o=this.mat4[15],this.mat4[12]=r*e[0]+i*e[4]+n*e[8]+o*e[12],this.mat4[13]=r*e[1]+i*e[5]+n*e[9]+o*e[13],this.mat4[14]=r*e[2]+i*e[6]+n*e[10]+o*e[14],this.mat4[15]=r*e[3]+i*e[7]+n*e[11]+o*e[15],this},R.default.Matrix.prototype.apply=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof R.default.Matrix)e=t.mat4;else if(A(t))e=t;else{if(16!==arguments.length)return;e=arguments}var r=this.mat4,i=r[0],n=r[4],o=r[8],a=r[12];r[0]=e[0]*i+e[1]*n+e[2]*o+e[3]*a,r[4]=e[4]*i+e[5]*n+e[6]*o+e[7]*a,r[8]=e[8]*i+e[9]*n+e[10]*o+e[11]*a,r[12]=e[12]*i+e[13]*n+e[14]*o+e[15]*a;var s=r[1],l=r[5],u=r[9],h=r[13];r[1]=e[0]*s+e[1]*l+e[2]*u+e[3]*h,r[5]=e[4]*s+e[5]*l+e[6]*u+e[7]*h,r[9]=e[8]*s+e[9]*l+e[10]*u+e[11]*h,r[13]=e[12]*s+e[13]*l+e[14]*u+e[15]*h;var f=r[2],c=r[6],d=r[10],p=r[14];r[2]=e[0]*f+e[1]*c+e[2]*d+e[3]*p,r[6]=e[4]*f+e[5]*c+e[6]*d+e[7]*p,r[10]=e[8]*f+e[9]*c+e[10]*d+e[11]*p,r[14]=e[12]*f+e[13]*c+e[14]*d+e[15]*p;var m=r[3],g=r[7],y=r[11],v=r[15];return r[3]=e[0]*m+e[1]*g+e[2]*y+e[3]*v,r[7]=e[4]*m+e[5]*g+e[6]*y+e[7]*v,r[11]=e[8]*m+e[9]*g+e[10]*y+e[11]*v,r[15]=e[12]*m+e[13]*g+e[14]*y+e[15]*v,this},R.default.Matrix.prototype.scale=function(t,e,r){return t instanceof R.default.Vector?(e=t.y,r=t.z,t=t.x):t instanceof Array&&(e=t[1],r=t[2],t=t[0]),this.mat4[0]*=t,this.mat4[1]*=t,this.mat4[2]*=t,this.mat4[3]*=t,this.mat4[4]*=e,this.mat4[5]*=e,this.mat4[6]*=e,this.mat4[7]*=e,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},R.default.Matrix.prototype.rotate=function(t,e,r,i){e instanceof R.default.Vector?(r=e.y,i=e.z,e=e.x):e instanceof Array&&(r=e[1],i=e[2],e=e[0]);var n=Math.sqrt(e*e+r*r+i*i);e*=1/n,r*=1/n,i*=1/n;var o=this.mat4[0],a=this.mat4[1],s=this.mat4[2],l=this.mat4[3],u=this.mat4[4],h=this.mat4[5],f=this.mat4[6],c=this.mat4[7],d=this.mat4[8],p=this.mat4[9],m=this.mat4[10],g=this.mat4[11],y=Math.sin(t),v=Math.cos(t),_=1-v,b=e*e*_+v,x=r*e*_+i*y,w=i*e*_-r*y,S=e*r*_-i*y,C=r*r*_+v,M=i*r*_+e*y,P=e*i*_+r*y,L=r*i*_-e*y,E=i*i*_+v;return this.mat4[0]=o*b+u*x+d*w,this.mat4[1]=a*b+h*x+p*w,this.mat4[2]=s*b+f*x+m*w,this.mat4[3]=l*b+c*x+g*w,this.mat4[4]=o*S+u*C+d*M,this.mat4[5]=a*S+h*C+p*M,this.mat4[6]=s*S+f*C+m*M,this.mat4[7]=l*S+c*C+g*M,this.mat4[8]=o*P+u*L+d*E,this.mat4[9]=a*P+h*L+p*E,this.mat4[10]=s*P+f*L+m*E,this.mat4[11]=l*P+c*L+g*E,this},R.default.Matrix.prototype.translate=function(t){var e=t[0],r=t[1],i=t[2]||0;this.mat4[12]+=this.mat4[0]*e+this.mat4[4]*r+this.mat4[8]*i,this.mat4[13]+=this.mat4[1]*e+this.mat4[5]*r+this.mat4[9]*i,this.mat4[14]+=this.mat4[2]*e+this.mat4[6]*r+this.mat4[10]*i,this.mat4[15]+=this.mat4[3]*e+this.mat4[7]*r+this.mat4[11]*i},R.default.Matrix.prototype.rotateX=function(t){this.rotate(t,1,0,0)},R.default.Matrix.prototype.rotateY=function(t){this.rotate(t,0,1,0)},R.default.Matrix.prototype.rotateZ=function(t){this.rotate(t,0,0,1)},R.default.Matrix.prototype.perspective=function(t,e,r,i){var n=1/Math.tan(t/2),o=1/(r-i);return this.mat4[0]=n/e,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=n,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(i+r)*o,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*i*r*o,this.mat4[15]=0,this},R.default.Matrix.prototype.ortho=function(t,e,r,i,n,o){var a=1/(t-e),s=1/(r-i),l=1/(n-o);return this.mat4[0]=-2*a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(t+e)*a,this.mat4[13]=(i+r)*s,this.mat4[14]=(o+n)*l,this.mat4[15]=1,this};var o=R.default.Matrix;r.default=o},{"../core/main":38}],66:[function(t,e,r){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=n(t("../core/main")),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=i?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(t("../core/constants")),i=n(t("libtess"));t("./p5.Shader"),t("./p5.Camera"),t("../core/p5.Renderer"),t("./p5.Matrix");t("path");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function n(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=f(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}}}function f(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var d="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n",p={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:d+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:d+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};u.default.RendererGL=function(t,e,r,i){return u.default.Renderer.call(this,t,e,r),this._setAttributeDefaults(e),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=o.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=o.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new u.default.Matrix,this.uPMatrix=new u.default.Matrix,this.uNMatrix=new u.default.Matrix("mat3"),this._curCamera=new u.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new u.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new u.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new u.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new u.default.RenderBuffer(4,"vertexColors","colorBuffer","aMaterialColor",this),new u.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new u.default.Geometry,shapeMode:o.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new u.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new u.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new u.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new u.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new u.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=o.IMAGE,this.textureWrapX=o.CLAMP,this.textureWrapY=o.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},u.default.RendererGL.prototype=Object.create(u.default.Renderer.prototype),u.default.RendererGL.prototype._setAttributeDefaults=function(t){var e={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};null===t._glAttributes?t._glAttributes=e:t._glAttributes=Object.assign(e,t._glAttributes)},u.default.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(t){throw t}},u.default.RendererGL.prototype._resetContext=function(t,e){var r=this.width,i=this.height,n=this.canvas.id,o=this._pInst instanceof u.default.Graphics;if(o){var a=this._pInst;a.canvas.parentNode.removeChild(a.canvas),a.canvas=document.createElement("canvas"),(a._pInst._userNode||document.body).appendChild(a.canvas),u.default.Element.call(a,a.canvas,a._pInst),a.width=r,a.height=i}else{var s=this.canvas;s&&s.parentNode.removeChild(s),(s=document.createElement("canvas")).id=n,this._pInst._userNode?this._pInst._userNode.appendChild(s):document.body.appendChild(s),this._pInst.canvas=s}var l=new u.default.RendererGL(this._pInst.canvas,this._pInst,!o);this._pInst._setProperty("_renderer",l),l.resize(r,i),l._applyDefaults(),o||this._pInst._elements.push(l),"function"==typeof e&&setTimeout(function(){e.apply(window._renderer,t)},0)},u.default.prototype.setAttributes=function(t,e){if(void 0!==this._glAttributes){var r=!0;if(void 0!==e?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[t]!==e&&(this._glAttributes[t]=e,r=!1)):t instanceof Object&&this._glAttributes!==t&&(this._glAttributes=t,r=!1),this._renderer.isP3D&&!r){if(!this._setupDone)for(var i in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(i))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}else console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.")},u.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},u.default.RendererGL.prototype.background=function(){var t,e=(t=this._pInst).color.apply(t,arguments),r=e.levels[0]/255,i=e.levels[1]/255,n=e.levels[2]/255,o=e.levels[3]/255;this.GL.clearColor(r,i,n,o),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},u.default.RendererGL.prototype.fill=function(t,e,r,i){var n=u.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=n._array,this.drawMode=o.FILL,this._useNormalMaterial=!1,this._tex=null},u.default.RendererGL.prototype.stroke=function(t,e,r,i){arguments[3]=255;var n=u.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=n._array},u.default.RendererGL.prototype.strokeCap=function(t){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},u.default.RendererGL.prototype.strokeJoin=function(t){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},u.default.RendererGL.prototype.filter=function(t){console.error("filter() does not work in WEBGL mode")},u.default.RendererGL.prototype.blendMode=function(t){t===o.DARKEST||t===o.LIGHTEST||t===o.ADD||t===o.BLEND||t===o.SUBTRACT||t===o.SCREEN||t===o.EXCLUSION||t===o.REPLACE||t===o.MULTIPLY||t===o.REMOVE?this.curBlendMode=t:t!==o.BURN&&t!==o.OVERLAY&&t!==o.HARD_LIGHT&&t!==o.SOFT_LIGHT&&t!==o.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},u.default.RendererGL.prototype.erase=function(t,e){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this.blendMode(o.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,t/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,e/255],this._isErasing=!0)},u.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode),this._isErasing=!1)},u.default.RendererGL.prototype.strokeWeight=function(t){this.curStrokeWeight!==t&&(this.pointSize=t,this.curStrokeWeight=t)},u.default.RendererGL.prototype._getPixel=function(t,e){var r;return r=new Uint8Array(4),this.drawingContext.readPixels(t,e,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,r),[r[0],r[1],r[2],r[3]]},u.default.RendererGL.prototype.loadPixels=function(){var t=this._pixelsState;if(!0===this._pInst._glAttributes.preserveDrawingBuffer){var e=t.pixels,r=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;e instanceof Uint8Array&&e.length===r||(e=new Uint8Array(r),this._pixelsState._setProperty("pixels",e));var i=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*i,this.height*i,this.GL.RGBA,this.GL.UNSIGNED_BYTE,e)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},u.default.RendererGL.prototype.geometryInHash=function(t){return void 0!==this.retainedMode.geometry[t]},u.default.RendererGL.prototype.resize=function(t,e){u.default.Renderer.prototype.resize.call(this,t,e),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var r=this._pixelsState;void 0!==r.pixels&&r._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},u.default.RendererGL.prototype.clear=function(){var t=(arguments.length<=0?void 0:arguments[0])||0,e=(arguments.length<=1?void 0:arguments[1])||0,r=(arguments.length<=2?void 0:arguments[2])||0,i=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(t,e,r,i),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},u.default.RendererGL.prototype.applyMatrix=function(t,e,r,i,n,o){16===arguments.length?u.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([t,e,0,0,r,i,0,0,0,0,1,0,n,o,0,1])},u.default.RendererGL.prototype.translate=function(t,e,r){return t instanceof u.default.Vector&&(r=t.z,e=t.y,t=t.x),this.uMVMatrix.translate([t,e,r]),this},u.default.RendererGL.prototype.scale=function(t,e,r){return this.uMVMatrix.scale(t,e,r),this},u.default.RendererGL.prototype.rotate=function(t,e){return void 0===e?this.rotateZ(t):(u.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},u.default.RendererGL.prototype.rotateX=function(t){return this.rotate(t,1,0,0),this},u.default.RendererGL.prototype.rotateY=function(t){return this.rotate(t,0,1,0),this},u.default.RendererGL.prototype.rotateZ=function(t){return this.rotate(t,0,0,1),this},u.default.RendererGL.prototype.push=function(){var t=u.default.Renderer.prototype.push.apply(this),e=t.properties;return e.uMVMatrix=this.uMVMatrix.copy(),e.uPMatrix=this.uPMatrix.copy(),e._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),e.ambientLightColors=this.ambientLightColors.slice(),e.specularColors=this.specularColors.slice(),e.directionalLightDirections=this.directionalLightDirections.slice(),e.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),e.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),e.pointLightPositions=this.pointLightPositions.slice(),e.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),e.pointLightSpecularColors=this.pointLightSpecularColors.slice(),e.spotLightPositions=this.spotLightPositions.slice(),e.spotLightDirections=this.spotLightDirections.slice(),e.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),e.spotLightSpecularColors=this.spotLightSpecularColors.slice(),e.spotLightAngle=this.spotLightAngle.slice(),e.spotLightConc=this.spotLightConc.slice(),e.userFillShader=this.userFillShader,e.userStrokeShader=this.userStrokeShader,e.userPointShader=this.userPointShader,e.pointSize=this.pointSize,e.curStrokeWeight=this.curStrokeWeight,e.curStrokeColor=this.curStrokeColor,e.curFillColor=this.curFillColor,e._useSpecularMaterial=this._useSpecularMaterial,e._useEmissiveMaterial=this._useEmissiveMaterial,e._useShininess=this._useShininess,e.constantAttenuation=this.constantAttenuation,e.linearAttenuation=this.linearAttenuation,e.quadraticAttenuation=this.quadraticAttenuation,e._enableLighting=this._enableLighting,e._useNormalMaterial=this._useNormalMaterial,e._tex=this._tex,e.drawMode=this.drawMode,t},u.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=u.default.Matrix.identity(this._pInst),this},u.default.RendererGL.prototype._getImmediateStrokeShader=function(){var t=this.userStrokeShader;return t&&t.isStrokeShader()?t:this._getLineShader()},u.default.RendererGL.prototype._getRetainedStrokeShader=u.default.RendererGL.prototype._getImmediateStrokeShader,u.default.RendererGL.prototype._getImmediateFillShader=function(){var t=this.userFillShader;if(this._useNormalMaterial&&(!t||!t.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getImmediateModeShader();return t},u.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var t=this.userFillShader;if(this._enableLighting){if(!t||!t.isLightShader())return this._getLightShader()}else if(this._tex){if(!t||!t.isTextureShader())return this._getLightShader()}else if(!t)return this._getColorShader();return t},u.default.RendererGL.prototype._getImmediatePointShader=function(){var t=this.userPointShader;return t&&t.isPointShader()?t:this._getPointShader()},u.default.RendererGL.prototype._getRetainedLineShader=u.default.RendererGL.prototype._getImmediateLineShader,u.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new u.default.Shader(this,p.phongVert,p.phongFrag):this._defaultLightShader=new u.default.Shader(this,p.lightVert,p.lightTextureFrag)),this._defaultLightShader},u.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new u.default.Shader(this,p.immediateVert,p.vertexColorFrag)),this._defaultImmediateModeShader},u.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new u.default.Shader(this,p.normalVert,p.normalFrag)),this._defaultNormalShader},u.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new u.default.Shader(this,p.normalVert,p.basicFrag)),this._defaultColorShader},u.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new u.default.Shader(this,p.pointVert,p.pointFrag)),this._defaultPointShader},u.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new u.default.Shader(this,p.lineVert,p.lineFrag)),this._defaultLineShader},u.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new u.default.Shader(this,p.fontVert,p.fontFrag)),this._defaultFontShader},u.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var t=new u.default.Image(1,1);t.set(0,0,255),this._emptyTexture=new u.default.Texture(this,t)}return this._emptyTexture},u.default.RendererGL.prototype.getTexture=function(t){var e,r=this.textures,i=h(r);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n.src===t)return n}}catch(t){i.e(t)}finally{i.f()}var o=new u.default.Texture(this,t);return r.push(o),o},u.default.RendererGL.prototype._setStrokeUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curStrokeColor),t.setUniform("uStrokeWeight",this.curStrokeWeight)},u.default.RendererGL.prototype._setFillUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curFillColor),t.setUniform("isTexture",!!this._tex),this._tex&&t.setUniform("uSampler",this._tex),t.setUniform("uTint",this._tint),t.setUniform("uSpecular",this._useSpecularMaterial),t.setUniform("uEmissive",this._useEmissiveMaterial),t.setUniform("uShininess",this._useShininess),t.setUniform("uUseLighting",this._enableLighting);var e=this.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",e),t.setUniform("uPointLightLocation",this.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var r=this.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",r),t.setUniform("uLightingDirection",this.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var i=this.ambientLightColors.length/3;t.setUniform("uAmbientLightCount",i),t.setUniform("uAmbientColor",this.ambientLightColors);var n=this.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",n),t.setUniform("uSpotLightAngle",this.spotLightAngle),t.setUniform("uSpotLightConc",this.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.spotLightPositions),t.setUniform("uSpotLightDirection",this.spotLightDirections),t.setUniform("uConstantAttenuation",this.constantAttenuation),t.setUniform("uLinearAttenuation",this.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),t.bindTextures()},u.default.RendererGL.prototype._setPointUniforms=function(t){t.bindShader(),t.setUniform("uMaterialColor",this.curStrokeColor),t.setUniform("uPointSize",this.pointSize)},u.default.RendererGL.prototype._bindBuffer=function(t,e,r,i,n){if(e=e||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(e,t),void 0!==r){var o=new(i||Float32Array)(r);this.GL.bufferData(e,o,n||this.GL.STATIC_DRAW)}},u.default.RendererGL.prototype._arraysEqual=function(t,e){var r=t.length;if(r!==e.length)return!1;for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0},u.default.RendererGL.prototype._isTypedArray=function(t){return Float32Array,Float64Array,Int16Array,Uint16Array,t instanceof Uint32Array},u.default.RendererGL.prototype._flatten=function(t){if(0===t.length)return[];if(2e4<t.length){var e,r=Object.prototype.toString,i=[],n=t.slice();for(e=n.pop();"[object Array]"===r.call(e)?n.push.apply(n,l(e)):i.push(e),n.length&&void 0!==(e=n.pop()););return i.reverse(),i}var o;return(o=[]).concat.apply(o,l(t))},u.default.RendererGL.prototype._vToNArray=function(t){var e,r=[],i=h(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;r.push(n.x,n.y,n.z)}}catch(t){i.e(t)}finally{i.f()}return r},u.default.prototype._assert3d=function(t){if(!this._renderer.isP3D)throw new Error("".concat(t,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},u.default.RendererGL.prototype._initTessy=function(){var t=new i.default.GluTesselator;return t.gluTessCallback(i.default.gluEnum.GLU_TESS_VERTEX_DATA,function(t,e){e[e.length]=t[0],e[e.length]=t[1],e[e.length]=t[2]}),t.gluTessCallback(i.default.gluEnum.GLU_TESS_BEGIN,function(t){t!==i.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(t))}),t.gluTessCallback(i.default.gluEnum.GLU_TESS_ERROR,function(t){console.log("error callback"),console.log("error number: ".concat(t))}),t.gluTessCallback(i.default.gluEnum.GLU_TESS_COMBINE,function(t,e,r){return[t[0],t[1],t[2]]}),t.gluTessCallback(i.default.gluEnum.GLU_TESS_EDGE_FLAG,function(t){}),t},u.default.RendererGL.prototype._triangulate=function(t){this._tessy.gluTessNormal(0,0,1);var e=[];this._tessy.gluTessBeginPolygon(e);for(var r=0;r<t.length;r++){this._tessy.gluTessBeginContour();for(var i=t[r],n=0;n<i.length;n+=3){var o=[i[n],i[n+1],i[n+2]];this._tessy.gluTessVertex(o,o)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),e},u.default.RendererGL.prototype._bezierCoefficients=function(t){var e=t*t,r=1-t,i=r*r;return[i*r,3*i*t,3*r*e,e*t]},u.default.RendererGL.prototype._quadraticCoefficients=function(t){var e=1-t;return[e*e,2*e*t,t*t]},u.default.RendererGL.prototype._bezierToCatmull=function(t){return[t[1],t[1]+(t[2]-t[0])/this._curveTightness,t[2]-(t[3]-t[1])/this._curveTightness,t[2]]};var m=u.default.RendererGL;r.default=m},{"../core/constants":31,"../core/main":38,"../core/p5.Renderer":41,"./p5.Camera":64,"./p5.Matrix":65,"./p5.Shader":67,libtess:23,path:25}],67:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=t("../core/main"))&&i.__esModule?i:{default:i};function o(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}n.default.Shader=function(t,e,r){this._renderer=t,this._vertSrc=e,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},n.default.Shader.prototype.init=function(){if(0===this._glProgram){var t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this._vertSrc),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(t.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this._fragSrc),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(t.getShaderInfoLog(this._fragShader))),null;this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(t.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},n.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES),r=0;r<e;++r){var i=t.getActiveAttrib(this._glProgram,r),n=i.name,o=t.getAttribLocation(this._glProgram,n),a={};a.name=n,a.location=o,a.index=r,a.type=i.type,a.size=i.size,this.attributes[n]=a}this._loadedAttributes=!0}},n.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS),r=0,i=0;i<e;++i){var n=t.getActiveUniform(this._glProgram,i),o={};o.location=t.getUniformLocation(this._glProgram,n.name),o.size=n.size;var a=n.name;1<n.size&&(a=a.substring(0,a.indexOf("[0]"))),o.name=a,o.type=n.type,o._cachedData=void 0,o.type===t.SAMPLER_2D&&(o.samplerIndex=r,r++,this.samplers.push(o)),o.isArray=o.type===t.FLOAT_MAT3||o.type===t.FLOAT_MAT4||o.type===t.FLOAT_VEC2||o.type===t.FLOAT_VEC3||o.type===t.FLOAT_VEC4||o.type===t.INT_VEC2||o.type===t.INT_VEC3||o.type===t.INT_VEC4,this.uniforms[a]=o}this._loadedUniforms=!0}},n.default.Shader.prototype.compile=function(){},n.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},n.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},n.default.Shader.prototype.bindTextures=function(){var t,e=this._renderer.GL,r=o(this.samplers);try{for(r.s();!(t=r.n()).done;){var i=t.value,n=i.texture;void 0===n&&(n=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+i.samplerIndex),n.bindTexture(),n.update(),e.uniform1i(i.location,i.samplerIndex)}}catch(t){r.e(t)}finally{r.f()}},n.default.Shader.prototype.updateTextures=function(){var t,e=o(this.samplers);try{for(e.s();!(t=e.n()).done;){var r=t.value.texture;r&&r.update()}}catch(t){e.e(t)}finally{e.f()}},n.default.Shader.prototype.unbindTextures=function(){},n.default.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.isStrokeShader()&&("default"===this._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},n.default.Shader.prototype.useProgram=function(){var t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this},n.default.Shader.prototype.setUniform=function(t,e){var r=this.uniforms[t];if(r){var i=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,e))return;r._cachedData=e.slice(0)}else{if(r._cachedData&&r._cachedData===e)return;r._cachedData=e}var n=r.location;switch(this.useProgram(),r.type){case i.BOOL:!0===e?i.uniform1i(n,1):i.uniform1i(n,0);break;case i.INT:1<r.size?e.length&&i.uniform1iv(n,e):i.uniform1i(n,e);break;case i.FLOAT:1<r.size?e.length&&i.uniform1fv(n,e):i.uniform1f(n,e);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(n,!1,e);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(n,!1,e);break;case i.FLOAT_VEC2:1<r.size?e.length&&i.uniform2fv(n,e):i.uniform2f(n,e[0],e[1]);break;case i.FLOAT_VEC3:1<r.size?e.length&&i.uniform3fv(n,e):i.uniform3f(n,e[0],e[1],e[2]);break;case i.FLOAT_VEC4:1<r.size?e.length&&i.uniform4fv(n,e):i.uniform4f(n,e[0],e[1],e[2],e[3]);break;case i.INT_VEC2:1<r.size?e.length&&i.uniform2iv(n,e):i.uniform2i(n,e[0],e[1]);break;case i.INT_VEC3:1<r.size?e.length&&i.uniform3iv(n,e):i.uniform3i(n,e[0],e[1],e[2]);break;case i.INT_VEC4:1<r.size?e.length&&i.uniform4iv(n,e):i.uniform4i(n,e[0],e[1],e[2],e[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+r.samplerIndex),r.texture=this._renderer.getTexture(e),i.uniform1i(r.location,r.samplerIndex)}return this}},n.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},n.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},n.default.Shader.prototype.isTextureShader=function(){return 0<this.samplerIndex},n.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},n.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},n.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},n.default.Shader.prototype.enableAttrib=function(t,e,r,i,n,o){if(t){0;var a=t.location;if(-1!==a){var s=this._renderer.GL;t.enabled||(s.enableVertexAttribArray(a),t.enabled=!0),this._renderer.GL.vertexAttribPointer(a,e,r||s.FLOAT,i||!1,n||0,o||0)}}return this};var a=n.default.Shader;r.default=a},{"../core/main":38}],68:[function(t,e,r){e.exports={fes:{autoplay:"The media that tried to play (with '{{src}}') wasn't allowed to by this browser, most likely due to the browser's autoplay policy. Check out {{link}} for more information about why.",fileLoadError:{bytes:"It looks like there was a problem loading your file. {{suggestion}}",font:"It looks like there was a problem loading your font. {{suggestion}}",gif:"There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.",image:"It looks like there was a problem loading your image. {{suggestion}}",json:"It looks like there was a problem loading your JSON file. {{suggestion}}",large:"If your large file isn't fetched successfully, we recommend splitting the file into smaller segments and fetching those.",strings:"It looks like there was a problem loading your text file. {{suggestion}}",suggestion:"Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server. (More info at {{link}})",table:"It looks like there was a problem loading your table file. {{suggestion}}",xml:"It looks like there was a problem loading your XML file. {{suggestion}}"},misusedTopLevel:"Did you just try to use p5.js's {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: {{link}}",pre:"🌸 p5.js says: {{message}}",welcome:"Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js."}}},{}],69:[function(t,e,r){e.exports={fes:{autoplay:"Su browser impidío un medio tocar (de '{{src}}'), posiblemente porque las reglas de autoplay. Para aprender más, visite {{link}}.",fileLoadError:{bytes:"",font:"",gif:"",image:"",json:"",large:"",strings:"",suggestion:"",table:"",xml:""},misusedTopLevel:"",pre:"🌸 p5.js dice: {{message}}",welcome:""}}},{}],70:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(t("./en/translation")),n=o(t("./es/translation"));function o(t){return t&&t.__esModule?t:{default:t}}var a={en:{translation:i.default},es:{translation:n.default}};r.default=a},{"./en/translation":68,"./es/translation":69}]},{},[52])(52)});